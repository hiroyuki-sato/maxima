<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on May, 2 2007 by texi2html 1.76 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->
<head>
<title>Maxima Manual: 62. numericalio</title>

<meta name="description" content="Maxima Manual: 62. numericalio">
<meta name="keywords" content="Maxima Manual: 62. numericalio">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.76">
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
body
{
    color: black;
    background: white; 
    margin-left: 8%;
    margin-right: 13%;
}

h1
{
    margin-left: +8%;
    font-size: 150%;
    font-family: sans-serif
}

h2
{
    font-size: 125%;
    font-family: sans-serif
}

h3
{
    font-size: 100%;
    font-family: sans-serif
}

h2,h3,h4,h5,h6 { margin-left: +4%; }

div.textbox
{
    border: solid;
    border-width: thin;
    /* width: 100%; */
    padding-top: 1em;
    padding-bottom: 1em;
    padding-left: 2em;
    padding-right: 2em
}

div.titlebox
{
    border: none;
    padding-top: 1em;
    padding-bottom: 1em;
    padding-left: 2em;
    padding-right: 2em;
    background: rgb(200,255,255);
    font-family: sans-serif
}

div.synopsisbox
{
    border: none;
    padding-top: 1em;
    padding-bottom: 1em;
    padding-left: 2em;
    padding-right: 2em;
     background: rgb(255,220,255);
    /*background: rgb(200,255,255); */
    /* font-family: fixed */
}

pre.example
{
    border: none;
    padding-top: 1em;
    padding-bottom: 1em;
    padding-left: 1em;
    padding-right: 1em;
    background: rgb(247,242,180); /* kind of sandy */
    /* background: rgb(200,255,255); */ /* sky blue */
    font-family: "Lucida Console", monospace
}

div.spacerbox
{
    border: none;
    padding-top: 2em;
    padding-bottom: 2em
}

div.image
{
    margin: 0;
    padding: 1em;
    text-align: center;
}
-->
</style>

<link rel="icon" href="http://maxima.sourceforge.net/favicon.ico"/>
</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="numericalio"></a>
<a name="SEC231"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="maxima_61.html#SEC230" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC232" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima_61.html#SEC229" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_63.html#SEC234" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_76.html#SEC290" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 62. numericalio </h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC232">62.1 Introduction to numericalio</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC233">62.2 Definitions for numericalio</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Introduction-to-numericalio"></a>
<a name="SEC232"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC231" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC233" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC231" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC231" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_63.html#SEC234" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_76.html#SEC290" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 62.1 Introduction to numericalio </h2>

<p><code>numericalio</code> is a collection of functions to read and write data files.
The entire file is read to construct one object;
partial reads are not supported.
</p>
<p>It is assumed that each item to read or write is atomic:
an integer, float, bigfloat, string, or symbol,
and not a rational or complex number or any other kind of nonatomic expression.
These functions may attempt to do something sensible faced with nonatomic expressions,
but the results are not specified here and subject to change.
</p>
<p>Atoms in both input and output files have the same format as
in Maxima batch files or the interactive console.
In particular, strings are enclosed in double quotes,
backslash <code>\</code> prevents any special interpretation of the next character,
and the question mark <code>?</code> is recognized at the beginning of a symbol
to mean a Lisp symbol (as opposed to a Maxima symbol).
No continuation character (to join broken lines) is recognized.
</p>
<p><var>separator_flag</var> tells which character separates elements.
It is an optional argument for all read and write functions.
</p>
<p>For input, these values of <var>separator_flag</var> are recognized:
<code>comma</code> for comma separated values,
<code>pipe</code> for values separated by the vertical bar character <code>|</code>,
<code>semicolon</code> for values separated by semicolon <code>;</code>, 
and <code>space</code> for values separated by space or tab characters.
If the file name ends in <code>.csv</code> and <var>separator_flag</var> is not specified,
<code>comma</code> is assumed.
If the file name ends in something other than <code>.csv</code> and <code>separator_flag</code> is not specified,
<code>space</code> is assumed.
</p>
<p>For output, the same four flags are recognized as for input,
and also <code>tab</code>, for values separated by the tab character.
</p>
<p>In input, multiple successive space and tab characters count as a single separator.
However, multiple comma, pipe, or semicolon characters are significant.
Successive comma, pipe, or semicolon characters (with or without intervening spaces or tabs)
are considered to have <code>false</code> between the separators.
For example, <code>1234,,Foo</code> is treated the same as <code>1234,false,Foo</code>.
In output, <code>false</code> atoms are written as such;
a list <code>[1234, false, Foo]</code> is written <code>1234,false,Foo</code>,
and there is no attempt to collapse the output to <code>1234,,Foo</code>.
</p>
<hr size="6">
<a name="Definitions-for-numericalio"></a>
<a name="SEC233"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC232" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima_63.html#SEC234" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC231" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC231" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_63.html#SEC234" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_76.html#SEC290" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 62.2 Definitions for numericalio </h2>

<dl>
<dt><u>Function:</u> <b>read_matrix</b><i> (<var>file_name</var>)</i>
<a name="IDX1924"></a>
</dt>
<dt><u>Function:</u> <b>read_matrix</b><i> (<var>file_name</var>, <var>separator_flag</var>)</i>
<a name="IDX1925"></a>
</dt>
<dd><p>Reads the file <var>file_name</var> and returns its entire content as a matrix.
If <var>separator_flag</var> is not specified, the file is assumed space-delimited.
</p>
<p><code>read_matrix</code> infers the size of the matrix from the input data.
Each line of the file becomes one row of the matrix.
If some lines have different lengths, <code>read_matrix</code> complains.
</p>
</dd></dl>

<dl>
<dt><u>Function:</u> <b>read_lisp_array</b><i> (<var>file_name</var>, <var>A</var>)</i>
<a name="IDX1926"></a>
</dt>
<dt><u>Function:</u> <b>read_lisp_array</b><i> (<var>file_name</var>, <var>A</var>, <var>separator_flag</var>)</i>
<a name="IDX1927"></a>
</dt>
<dd><p><code>read_lisp_array</code> requires that the array
be declared by <code>make_array</code> before calling
the read function. (This obviates the need to infer the array 
dimensions, which could be a hassle for arrays with multiple dimensions.)
</p>
<p><code>read_lisp_array</code> does not check to see that the 
input file conforms in some way to the array dimensions; the input
is read as a flat list, then the array is filled using <code>fillarray</code>.
</p>
</dd></dl>

<dl>
<dt><u>Function:</u> <b>read_maxima_array</b><i> (<var>file_name</var>, <var>A</var>)</i>
<a name="IDX1928"></a>
</dt>
<dt><u>Function:</u> <b>read_maxima_array</b><i> (<var>file_name</var>, <var>A</var>, <var>separator_flag</var>)</i>
<a name="IDX1929"></a>
</dt>
<dd><p><code>read_maxima_array</code> requires that the array
be declared by <code>array</code> before calling
the read function. (This obviates the need to infer the array 
dimensions, which could be a hassle for arrays with multiple dimensions.)
</p>
<p><code>read_maxima_array</code> does not check to see that the 
input file conforms in some way to the array dimensions; the input
is read as a flat list, then the array is filled using <code>fillarray</code>.
</p>
</dd></dl>

<dl>
<dt><u>Function:</u> <b>read_hashed_array</b><i> (<var>file_name</var>, <var>A</var>)</i>
<a name="IDX1930"></a>
</dt>
<dt><u>Function:</u> <b>read_hashed_array</b><i> (<var>file_name</var>, <var>A</var>, <var>separator_flag</var>)</i>
<a name="IDX1931"></a>
</dt>
<dd><p><code>read_hashed_array</code> treats the first item on a line as a
hash key, and associates the remainder of the line (as a list) with the key.
For example,
the line <code>567 12 17 32 55</code> is equivalent to <code>A[567]: [12, 17, 32, 55]$</code>.
Lines need not have the same numbers of elements.
</p>
</dd></dl>

<dl>
<dt><u>Function:</u> <b>read_nested_list</b><i> (<var>file_name</var>)</i>
<a name="IDX1932"></a>
</dt>
<dt><u>Function:</u> <b>read_nested_list</b><i> (<var>file_name</var>, <var>separator_flag</var>)</i>
<a name="IDX1933"></a>
</dt>
<dd><p><code>read_nested_list</code> returns a list which has a sublist for each
line of input. Lines need not have the same numbers of elements.
Empty lines are <i>not</i> ignored: an empty line yields an empty sublist.
</p>
</dd></dl>

<dl>
<dt><u>Function:</u> <b>read_list</b><i> (<var>file_name</var>)</i>
<a name="IDX1934"></a>
</dt>
<dt><u>Function:</u> <b>read_list</b><i> (<var>file_name</var>, <var>separator_flag</var>)</i>
<a name="IDX1935"></a>
</dt>
<dd><p><code>read_list</code> reads all input into a flat list.
<code>read_list</code> ignores end-of-line characters.
</p>
</dd></dl>

<dl>
<dt><u>Function:</u> <b>write_data</b><i> (<var>X</var>, <var>file_name</var>)</i>
<a name="IDX1936"></a>
</dt>
<dt><u>Function:</u> <b>write_data</b><i> (<var>object</var>, <var>file_name</var>, <var>separator_flag</var>)</i>
<a name="IDX1937"></a>
</dt>
<dd><p><code>write_data</code> writes the object <var>X</var> to the file <var>file_name</var>.
</p>
<p><code>write_data</code> writes matrices in row-major form,
with one line per row.
</p>
<p><code>write_data</code> writes Lisp and Maxima declared arrays in
row-major form, with a new line at the end of every slab.
Higher-dimensional slabs are separated by additional new lines.
</p>
<p><code>write_data</code> writes hashed arrays with a key followed by
the associated list on each line.
</p>
<p><code>write_data</code> writes a nested list with each sublist on one line.
</p>
<p><code>write_data</code> writes a flat list all on one line.
</p>
<p>Whether <code>write_data</code> appends or truncates its output file
is governed by the global variable <code>file_output_append</code>.
</p>
</dd></dl>


<hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC231" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima_63.html#SEC234" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_76.html#SEC290" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>Robert Dodier</em> on <em>May, 2 2007</em> using <a href="http://texi2html.cvshome.org/"><em>texi2html 1.76</em></a>.
 </font>
 <br>

</p>
</body>
</html>
