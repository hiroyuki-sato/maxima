<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Maxima 5.46.0 Manual: Introduction to Sets</title>

<meta name="description" content="Maxima 5.46.0 Manual: Introduction to Sets">
<meta name="keywords" content="Maxima 5.46.0 Manual: Introduction to Sets">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="maxima_toc.html#Top" rel="start" title="Top">
<link href="maxima_307.html#Function-and-Variable-Index" rel="index" title="Function and Variable Index">
<link href="maxima_toc.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="maxima_148.html#Sets" rel="up" title="Sets">
<link href="maxima_150.html#Functions-and-Variables-for-Sets" rel="next" title="Functions and Variables for Sets">
<link href="maxima_148.html#Sets" rel="previous" title="Sets">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
body {color: black; background: white;  margin-left: 8%; margin-right: 13%;
      font-family: "FreeSans", sans-serif}
h1 {font-size: 150%; font-family: "FreeSans", sans-serif}
h2 {font-size: 125%; font-family: "FreeSans", sans-serif}
h3 {font-size: 100%; font-family: "FreeSans", sans-serif}
a[href] {color: rgb(0,0,255); text-decoration: none;}
a[href]:hover {background: rgb(220,220,220);}
div.textbox {border: solid; border-width: thin; padding-top: 1em;
    padding-bottom: 1em; padding-left: 2em; padding-right: 2em}
div.titlebox {border: none; padding-top: 1em; padding-bottom: 1em;
    padding-left: 2em; padding-right: 2em; background: rgb(200,255,255);
    font-family: sans-serif}
div.synopsisbox {
    border: none; padding-top: 1em; padding-bottom: 1em; padding-left: 2em;
    padding-right: 2em; background: rgb(255,220,255);}
pre.example {border: 1px solid rgb(180,180,180); padding-top: 1em;
    padding-bottom: 1em; padding-left: 1em; padding-right: 1em;
    background-color: rgb(238,238,255)}
div.spacerbox {border: none; padding-top: 2em; padding-bottom: 2em}
div.image {margin: 0; padding: 1em; text-align: center}
div.categorybox {border: 1px solid gray; padding-top: 1em; padding-bottom: 1em;
    padding-left: 1em; padding-right: 1em; background: rgb(247,242,220)}
img {max-width:80%; max-height: 80%; display: block; margin-left: auto; margin-right: auto}

-->
</style>

<link rel="icon" href="figures/favicon.ico">

</head>

<body lang="ja" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Introduction-to-Sets"></a>
<div class="header">
<p>
Next: <a href="maxima_150.html#Functions-and-Variables-for-Sets" accesskey="n" rel="next">Functions and Variables for Sets</a>, Previous: <a href="maxima_148.html#Sets" accesskey="p" rel="previous">Sets</a>, Up: <a href="maxima_148.html#Sets" accesskey="u" rel="up">Sets</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="maxima_307.html#Function-and-Variable-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Introduction-to-Sets-1"></a>
<h3 class="section">35.1 Introduction to Sets</h3>

<p>Maximaは、
陽な列挙によって定義された有限集合のために、
積集合や和集合のような、集合関数を提供します。
Maximaは、リストと集合を別のオブジェクトとして扱います。
この特長は、
リストまたは集合であるメンバーがリストであったり集合であったりする集合を扱うことを可能にします。
</p>
<p>有限集合のための関数に加えて、
Maximaは、
組み合わせ論に関係したいくつかの関数を提供します;
これらは、第一種と第二種スターリング数、ベル数、第一種と第二種の多項係数、
非負整数の分割、と2,3の他の関数です。
Maximaは、クロネッカーのデルタ関数も定義します。
</p>
<a name="Usage"></a>
<h4 class="subsection">35.1.1 Usage</h4>

<p>メンバー<code>a_1, ..., a_n</code>の集合を構成するには、
<code>set(a_1, ..., a_n)</code>または<code>{a_1, ..., a_n}</code>を書いてください;
空集合を構成するには、
<code>set()</code>または<code>{}</code>を書いてください。
入力では、
<code>set(...)</code>と<code>{ ... }</code>は同値です。
集合は、いつも中括弧で表示されます。
</p>
<p>もしメンバーが一度以上リストされているなら、
整理は、冗長なメンバーを消去します。
</p>
<div class="example">
<pre class="example">(%i1) set();
(%o1)                          {}
(%i2) set(a, b, a);
(%o2)                        {a, b}
(%i3) set(a, set(b));
(%o3)                       {a, {b}}
(%i4) set(a, [b]);
(%o4)                       {a, [b]}
(%i5) {};
(%o5)                          {}
(%i6) {a, b, a};
(%o6)                        {a, b}
(%i7) {a, {b}};
(%o7)                       {a, {b}}
(%i8) {a, [b]};
(%o8)                       {a, [b]}
</pre></div>

<p>２つの要素志望<var>x</var>と<var>y</var>は、
<code>is(<var>x</var> = <var>y</var>)</code>が<code>true</code>をもたらす
(すなわち、集合構成の目的で同じと見なされる)
時だけ
冗長です。
<code>is(<var>x</var> = <var>y</var>)</code>が<code>false</code>をもたらす一方、
<code>is(equal(<var>x</var>, <var>y</var>))</code>は、<code>true</code>をもたらす可能性があることに
注意してください;
その場合、要素<var>x</var>と<var>y</var>は異なったものと見なされます。
</p>
<div class="example">
<pre class="example">(%i1) x: a/c + b/c;
                              b   a
(%o1)                         - + -
                              c   c
(%i2) y: a/c + b/c;
                              b   a
(%o2)                         - + -
                              c   c
(%i3) z: (a + b)/c;
                              b + a
(%o3)                         -----
                                c
(%i4) is (x = y);
(%o4)                         true
(%i5) is (y = z);
(%o5)                         false
(%i6) is (equal (y, z));
(%o6)                         true
(%i7) y - z;
                           b + a   b   a
(%o7)                    - ----- + - + -
                             c     c   c
(%i8) ratsimp (%);
(%o8)                           0
(%i9) {x, y, z};
                          b + a  b   a
(%o9)                    {-----, - + -}
                            c    c   c
</pre></div>

<p>リストの要素から集合を構成するには、<code>setify</code>を使ってください。
</p>
<div class="example">
<pre class="example">(%i1) setify ([b, a]);
(%o1)                        {a, b}
</pre></div>

<p>もし<code>is(x = y)</code>が<code>true</code>に評価されるなら、
集合の元<code>x</code>と<code>y</code>は等しいです。
従って、<code>rat(x)</code>と<code>x</code>は集合の元として等しいです;
結果として、
</p>
<div class="example">
<pre class="example">(%i1) {x, rat(x)};
(%o1)                          {x}
</pre></div>

<p>さらに、
<code>is((x - 1)*(x + 1) = x^2 - 1)</code>は<code>false</code>に評価されるので、
<code>(x - 1)*(x + 1)</code>と<code>x^2 - 1</code>は集合の異なる元です;
従って、
</p>
<div class="example">
<pre class="example">(%i1) {(x - 1)*(x + 1), x^2 - 1};
                                       2
(%o1)               {(x - 1) (x + 1), x  - 1}
</pre></div>

<p>この集合を1元集合に縮小するには、
<code>rat</code>を集合の元それぞれに適用してください:
</p>
<div class="example">
<pre class="example">(%i1) {(x - 1)*(x + 1), x^2 - 1};
                                       2
(%o1)               {(x - 1) (x + 1), x  - 1}
(%i2) map (rat, %);
                              2
(%o2)/R/                    {x  - 1}
</pre></div>

<p>他の集合から冗長性を取り除くために、
他の整理関数を使う必要があるかもしれません。
以下は、<code>trigsimp</code>を使った例です:
</p>
<div class="example">
<pre class="example">(%i1) {1, cos(x)^2 + sin(x)^2};
                            2         2
(%o1)                {1, sin (x) + cos (x)}
(%i2) map (trigsimp, %);
(%o2)                          {1}
</pre></div>

<p>元が、冗長でなく、並べ換えられている時
集合は整理されてます。
集合関数の現在のバージョンは、
集合を順に並べるためにMaxima関数<code>orderlessp</code>を使います;
しかしながら、
<i>集合関数の将来のバージョンは、違う並び替え関数を使うかもしれません。</i>
</p>
<p>代入のような、集合に関するいくつかの演算は、
再整理を自動的に強制します;
例えば、
</p>
<div class="example">
<pre class="example">(%i1) s: {a, b, c}$
(%i2) subst (c=a, s);
(%o2)                        {a, b}
(%i3) subst ([a=x, b=x, c=x], s);
(%o3)                          {x}
(%i4) map (lambda ([x], x^2), set (-1, 0, 1));
(%o4)                        {0, 1}
</pre></div>

<p>Maximaは、リストと集合を異なるオブジェクトとして扱います;
<code>union</code>や<code>intersection</code>のような関数は、
もし引数のいずれかがしゅうごうでないなら、文句を言います。
もしリストに集合関数を適用する必要があるなら、
集合に変換するために、
<code>setify</code>関数を使ってください。
例えば、
</p>
<div class="example">
<pre class="example">(%i1) union ([1, 2], {a, b});
Function union expects a set, instead found [1,2]
 -- an error.  Quitting.  To debug this try debugmode(true);
(%i2) union (setify ([1, 2]), {a, b});
(%o2)                     {1, 2, a, b}
</pre></div>

<p>集合<code>s</code>の集合要素のうち述語論理<code>f</code>を満たすすべての要素を抽出するためには、
use <code>subset(s, f)</code>を使ってください。
(<i>述語論理</i>はブーリアン値関数です。)
例えば、
与えられた集合の中で、変数<code>z</code>に依存しない等式を見つけるには、
以下を使ってください。
</p>
<div class="example">
<pre class="example">(%i1) subset ({x + y + z, x - y + 4, x + y - 5},
                                    lambda ([e], freeof (z, e)));
(%o1)               {- y + x + 4, y + x - 5}
</pre></div>

<p>節<a href="maxima_150.html#Functions-and-Variables-for-Sets">Functions and Variables for Sets</a>は、
Maximaの集合関数の完全なリストを持ちます。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-Sets">Sets</a>
&middot;</div>
<a name="Set-Member-Iteration"></a>
<h4 class="subsection">35.1.2 Set Member Iteration</h4>

<p>集合の元上を反復する２つの方法があります。
１つの方法は<code>map</code>の使用です;
例えば:
</p>
<div class="example">
<pre class="example">(%i1) map (f, {a, b, c});
(%o1)                  {f(a), f(b), f(c)}
</pre></div>

<p>他の方法は、
<code>for <var>x</var> in <var>s</var> do</code>を使うことです。
</p>
<div class="example">
<pre class="example">(%i1) s: {a, b, c};
(%o1)                       {a, b, c}
(%i2) for si in s do print (concat (si, 1));
a1 
b1 
c1 
(%o2)                         done
</pre></div>

<p>Maxima関数<code>first</code>と<code>rest</code>は、
集合に対して正しく機能します。
集合に適用されると、
<code>first</code>は、最初に表示される集合の要素を返します;
それは、実装依存かもしれません。
もし<code>s</code>が集合なら
<code>rest(s)</code>は、<code>disjoin(first(s), s)</code>と同値です。
現在、
集合に対して正しく機能する他のMaxima関数があります。
集合関数の将来のバージョンでは、
<code>first</code>と<code>rest</code>は、違うように機能するかもしれませんし、そうでないかもしれません。
</p>
<a name="Bugs"></a>
<h4 class="subsection">35.1.3 Bugs</h4>

<p>集合関数は、
集合の元を並び換えるために、
Maxima関数<code>orderlessp</code>を使い、
集合の元の同一性をテストするために(Lispレベルの)関数<code>like</code>を使います。
これらの関数の両方は、
もし標準有理式(CRE)形式の式を含むリストや行列が元の集合を使おうとするなら、現れる既知のバグを持ちます。
例は以下の通りです。
</p>
<div class="example">
<pre class="example">(%i1) {[x], [rat (x)]};
Maxima encountered a Lisp error:

  The value #:X1440 is not of type LIST.

Automatically continuing.
To reenable the Lisp debugger set *debugger-hook* to nil.
</pre></div>

<p>この式は、Maximaがエラーで停止する原因となります。
(エラーメッセージはMaximaが使うLispのバージョンに依ります。)
もう１つの例は、以下の通りです。
</p>
<div class="example">
<pre class="example">(%i1) setify ([[rat(a)], [rat(b)]]);
Maxima encountered a Lisp error:

  The value #:A1440 is not of type LIST.

Automatically continuing.
To reenable the Lisp debugger set *debugger-hook* to nil.
</pre></div>

<p>これらのバグは、
<code>orderlessp</code>と<code>like</code>の中にあるバグに原因します;
それらは、集合関数の中のバグが原因ではありません。
例証するには、以下の式を試してください。
</p>
<div class="example">
<pre class="example">(%i1) orderlessp ([rat(a)], [rat(b)]);
Maxima encountered a Lisp error:

  The value #:B1441 is not of type LIST.

Automatically continuing.
To reenable the Lisp debugger set *debugger-hook* to nil.
(%i2) is ([rat(a)] = [rat(a)]);
(%o2)                         false
</pre></div>

<p>これらのバグが直されるまで、
CRE形式の式を含むリストや行を元に持つ集合を構成しないでください;
しかしながら、CRE形式の元を持つ集合は、問題ないはずです:
</p>
<div class="example">
<pre class="example">(%i1) {x, rat (x)};
(%o1)                          {x}
</pre></div>

<p>Maximaの<code>orderlessp</code>は、
集合関数で問題の原因となる可能性がある
もう１つのバグを持ちます。
それは、すなわち、順序付け述語論理<code>orderlessp</code>が推移的でないことです。
これを示す最も簡単な既知の例は、以下の通りです。
</p>
<div class="example">
<pre class="example">(%i1) q: x^2$
(%i2) r: (x + 1)^2$
(%i3) s: x*(x + 2)$
(%i4) orderlessp (q, r);
(%o4)                         true
(%i5) orderlessp (r, s);
(%o5)                         true
(%i6) orderlessp (q, s);
(%o6)                         false
</pre></div>

<p>このバグは、一般的にMaximaの関数はもちろん、集合関数すべてにおいて、
問題の原因となる可能性があります。
確実ではありませんが、
もし集合の元すべてがCRE形式であるか、<code>ratsimp</code>を使って整理されていれば、
このバグはたぶん避けられます。
</p>
<p>Maximaの<code>orderless</code>と<code>ordergreat</code>メカニズムは、
集合関数と互換性がありません。
もし、<code>orderless</code>か<code>ordergreat</code>のいずれかを使う必要があるなら、
いかなる集合を構成する前に、これらの関数をコールしてください。
そして、<code>unorder</code>をコールしないでください。
</p>

<p>もし集合関数のバグかもしれないと思う何かを見つけたら、
どうかMaximaのバグデータベースに報告してください。
<code>bug_report</code>を参照してください。
</p>
<a name="Authors"></a>
<h4 class="subsection">35.1.4 Authors</h4>

<p>マサチューセッツ州ケンブリッジ市のStavros Macrakisと、
ネブラスカ大学カーニー校(UNK)のBarton Willisが、
Maximaの集合関数とそれらのドキュメンテーションを書きました。
</p>
<a name="Item_003a-nset_002fnode_002fFunctions-and-Variables-for-Sets"></a><hr>
<div class="header">
<p>
Next: <a href="maxima_150.html#Functions-and-Variables-for-Sets" accesskey="n" rel="next">Functions and Variables for Sets</a>, Previous: <a href="maxima_148.html#Sets" accesskey="p" rel="previous">Sets</a>, Up: <a href="maxima_148.html#Sets" accesskey="u" rel="up">Sets</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="maxima_307.html#Function-and-Variable-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
