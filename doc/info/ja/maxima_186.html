<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Maxima 5.46.0 Manual: Functions and Variables for data manipulation</title>

<meta name="description" content="Maxima 5.46.0 Manual: Functions and Variables for data manipulation">
<meta name="keywords" content="Maxima 5.46.0 Manual: Functions and Variables for data manipulation">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="maxima_toc.html#Top" rel="start" title="Top">
<link href="maxima_307.html#Function-and-Variable-Index" rel="index" title="Function and Variable Index">
<link href="maxima_toc.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="maxima_184.html#descriptive" rel="up" title="descriptive">
<link href="maxima_187.html#Functions-and-Variables-for-descriptive-statistics" rel="next" title="Functions and Variables for descriptive statistics">
<link href="maxima_185.html#Introduction-to-descriptive" rel="previous" title="Introduction to descriptive">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
body {color: black; background: white;  margin-left: 8%; margin-right: 13%;
      font-family: "FreeSans", sans-serif}
h1 {font-size: 150%; font-family: "FreeSans", sans-serif}
h2 {font-size: 125%; font-family: "FreeSans", sans-serif}
h3 {font-size: 100%; font-family: "FreeSans", sans-serif}
a[href] {color: rgb(0,0,255); text-decoration: none;}
a[href]:hover {background: rgb(220,220,220);}
div.textbox {border: solid; border-width: thin; padding-top: 1em;
    padding-bottom: 1em; padding-left: 2em; padding-right: 2em}
div.titlebox {border: none; padding-top: 1em; padding-bottom: 1em;
    padding-left: 2em; padding-right: 2em; background: rgb(200,255,255);
    font-family: sans-serif}
div.synopsisbox {
    border: none; padding-top: 1em; padding-bottom: 1em; padding-left: 2em;
    padding-right: 2em; background: rgb(255,220,255);}
pre.example {border: 1px solid rgb(180,180,180); padding-top: 1em;
    padding-bottom: 1em; padding-left: 1em; padding-right: 1em;
    background-color: rgb(238,238,255)}
div.spacerbox {border: none; padding-top: 2em; padding-bottom: 2em}
div.image {margin: 0; padding: 1em; text-align: center}
div.categorybox {border: 1px solid gray; padding-top: 1em; padding-bottom: 1em;
    padding-left: 1em; padding-right: 1em; background: rgb(247,242,220)}
img {max-width:80%; max-height: 80%; display: block; margin-left: auto; margin-right: auto}

-->
</style>

<link rel="icon" href="figures/favicon.ico">

</head>

<body lang="ja" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Functions-and-Variables-for-data-manipulation"></a>
<div class="header">
<p>
Next: <a href="maxima_187.html#Functions-and-Variables-for-descriptive-statistics" accesskey="n" rel="next">Functions and Variables for descriptive statistics</a>, Previous: <a href="maxima_185.html#Introduction-to-descriptive" accesskey="p" rel="previous">Introduction to descriptive</a>, Up: <a href="maxima_184.html#descriptive" accesskey="u" rel="up">descriptive</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="maxima_307.html#Function-and-Variable-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Functions-and-Variables-for-data-manipulation-1"></a>
<h3 class="section">45.2 Functions and Variables for data manipulation</h3>




<a name="Item_003a-descriptive_002fdeffn_002fcontinuous_005ffreq"></a><dl>
<dt><a name="index-continuous_005ffreq"></a>関数: <strong>continuous_freq</strong> <em>(<var>list</var>)</em></dt>
<dt><a name="index-continuous_005ffreq-1"></a>関数: <strong>continuous_freq</strong> <em>(<var>list</var>, <var>m</var>)</em></dt>
<dd><p><code>continuous_freq</code>の引数は数のリストでなければいけません。
範囲を区間に分割し、それらの中に値がいくつあるか数えます。
二番目の引数はオプションで、
欲しいクラス数(デフォルトが10)か、
クラス境界と欲しいクラスを含むリストか
境界だけ含むリストのいずれかです。
引数 <var>list</var>は(2個か3個の)実数のリストでなければいけません。
もしサンプル値がすべて等しいなら、この関数は振幅2の1クラスだけ返します。
</p>
<p>例:
</p>
<p>オプション引数は欲しいクラス数を示します。
出力の最初のリストは区間境界を含み、二番目は対応する個数を含みます:
区間<code>[0, 1.8]</code>すなわち0か1である桁が16あり、
<code>(1.8, 3.6]</code>すなわち2か3である桁が24あり、など。
</p>
<div class="example">
<pre class="example">(%i1) load (&quot;descriptive&quot;)$
(%i2) s1 : read_list (file_search (&quot;pidigits.data&quot;))$
(%i3) continuous_freq (s1, 5);
(%o3) [[0, 1.8, 3.6, 5.4, 7.2, 9.0], [16, 24, 18, 17, 25]]
</pre></div>

<p>オプション引数は、境界-2と12を持つクラスを7個欲しいことを示します。
</p>
<div class="example">
<pre class="example">(%i1) load (&quot;descriptive&quot;)$
(%i2) s1 : read_list (file_search (&quot;pidigits.data&quot;))$
(%i3) continuous_freq (s1, [-2,12,7]);
(%o3) [[- 2, 0, 2, 4, 6, 8, 10, 12], [8, 20, 22, 17, 20, 13, 0]]
</pre></div>

<p>オプション引数は、境界-2と12を持つクラスをデフォルト個欲しいことを示します:
</p>
<div class="example">
<pre class="example">(%i1) load (&quot;descriptive&quot;)$
(%i2) s1 : read_list (file_search (&quot;pidigits.data&quot;))$
(%i3) continuous_freq (s1, [-2,12]);
                3  4  11  18     32  39  46  53
(%o3)  [[- 2, - -, -, --, --, 5, --, --, --, --, 12], 
                5  5  5   5      5   5   5   5
               [0, 8, 20, 12, 18, 9, 8, 25, 0, 0]]
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-Package-descriptive">Package descriptive</a>
&middot;</div></dd></dl>



<a name="Item_003a-descriptive_002fdeffn_002fdiscrete_005ffreq"></a><dl>
<dt><a name="index-discrete_005ffreq"></a>関数: <strong>discrete_freq</strong> <em>(<var>list</var>)</em></dt>
<dd><p>数値的、記述的両方の離散標本の中の絶対頻度を数えます。
唯一の引数はリストです。
</p>
<div class="example">
<pre class="example">(%i1) load (&quot;descriptive&quot;)$
(%i2) s1 : read_list (file_search (&quot;pidigits.data&quot;))$
</pre><pre class="example">(%i3) discrete_freq (s1);
(%o3) [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], 
                             [8, 8, 12, 12, 10, 8, 9, 8, 12, 13]]
</pre></div>

<p>最初のリストは標本値を与え、二番目はそれらの絶対頻度を与えます。
コマンド<code>? col</code>と<code>? transpose</code>は最後の入力を理解するのを助けるはずです。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-Package-descriptive">Package descriptive</a>
&middot;</div></dd></dl>



<a name="Item_003a-descriptive_002fdeffn_002fsubsample"></a><dl>
<dt><a name="index-subsample"></a>関数: <strong>subsample</strong> <em>(<var>data_matrix</var>, <var>predicate_function</var>)</em></dt>
<dt><a name="index-subsample-1"></a>関数: <strong>subsample</strong> <em>(<var>data_matrix</var>, <var>predicate_function</var>, <var>col_num1</var>, <var>col_num2</var>, ...)</em></dt>
<dd><p>これはMaxima <code>submatrix</code>関数の変形の一種です。
最初の引数はデータ行列であり、二番目は述語関数であり、
オプションの付加引数は返す列の番号です。
その振る舞いは例を使ってよりよく理解されます。
</p>
<p>以下は最初の測候所での風速が18より大きかった多変量レコードです。
ラムダ式の中で<var>i</var>番目の成分は<code>v[i]</code>として参照されることを参考にしてください。
</p><div class="example">
<pre class="example">(%i1) load (&quot;descriptive&quot;)$
(%i2) s2 : read_matrix (file_search (&quot;wind.data&quot;))$
</pre><pre class="example">(%i3) subsample (s2, lambda([v], v[1] &gt; 18));
              [ 19.38  15.37  15.12  23.09  25.25 ]
              [                                   ]
              [ 18.29  18.66  19.08  26.08  27.63 ]
(%o3)         [                                   ]
              [ 20.25  21.46  19.95  27.71  23.38 ]
              [                                   ]
              [ 18.79  18.96  14.46  26.38  21.84 ]
</pre></div>

<p>以下の例では、測候所番号1で16以上で、かつ、測候所番号4で25ノットより小さな風速
のレコードの一番目、二番目、五番目の成分だけをリクエストします。
標本は、測候所1, 2, 5からのデータだけを含みます。
この場合、述語関数は通常のMaxima関数として定義されます。
</p><div class="example">
<pre class="example">(%i1) load (&quot;descriptive&quot;)$
(%i2) s2 : read_matrix (file_search (&quot;wind.data&quot;))$
(%i3) g(x):= x[1] &gt;= 16 and x[4] &lt; 25$
</pre><pre class="example">(%i4) subsample (s2, g, 1, 2, 5);
                     [ 19.38  15.37  25.25 ]
                     [                     ]
                     [ 17.33  14.67  19.58 ]
(%o4)                [                     ]
                     [ 16.92  13.21  21.21 ]
                     [                     ]
                     [ 17.25  18.46  23.87 ]
</pre></div>

<p>以下は<code>biomed.data</code>のカテゴリ変数の例です。
38歳より年上のグループ<code>B</code>の患者に対応するレコードが欲しいです。
</p><div class="example">
<pre class="example">(%i1) load (&quot;descriptive&quot;)$
(%i2) s3 : read_matrix (file_search (&quot;biomed.data&quot;))$
(%i3) h(u):= u[1] = B and u[2] &gt; 38 $
</pre><pre class="example">(%i4) subsample (s3, h);
                [ B  39  28.0  102.3  17.1  146 ]
                [                               ]
                [ B  39  21.0  92.4   10.3  197 ]
                [                               ]
                [ B  39  23.0  111.5  10.0  133 ]
                [                               ]
                [ B  39  26.0  92.6   12.3  196 ]
(%o4)           [                               ]
                [ B  39  25.0  98.7   10.0  174 ]
                [                               ]
                [ B  39  21.0  93.2   5.9   181 ]
                [                               ]
                [ B  39  18.0  95.0   11.3  66  ]
                [                               ]
                [ B  39  39.0  88.5   7.6   168 ]
</pre></div>

<p>統計解析には血圧だけを使うかもしれません。
</p><div class="example">
<pre class="example">(%i1) load (&quot;descriptive&quot;)$
(%i2) s3 : read_matrix (file_search (&quot;biomed.data&quot;))$
</pre><pre class="example">(%i3) subsample (s3, lambda([v], v[1] = B and v[2] &gt; 38),
                 3, 4, 5, 6);
                   [ 28.0  102.3  17.1  146 ]
                   [                        ]
                   [ 21.0  92.4   10.3  197 ]
                   [                        ]
                   [ 23.0  111.5  10.0  133 ]
                   [                        ]
                   [ 26.0  92.6   12.3  196 ]
(%o3)              [                        ]
                   [ 25.0  98.7   10.0  174 ]
                   [                        ]
                   [ 21.0  93.2   5.9   181 ]
                   [                        ]
                   [ 18.0  95.0   11.3  66  ]
                   [                        ]
                   [ 39.0  88.5   7.6   168 ]
</pre></div>

<p>いかは<code>s3</code>の多変量平均です。
</p><div class="example">
<pre class="example">(%i1) load (&quot;descriptive&quot;)$
(%i2) s3 : read_matrix (file_search (&quot;biomed.data&quot;))$
</pre><pre class="example">(%i3) mean (s3);
       65 B + 35 A  317          6 NA + 8144.999999999999
(%o3) [-----------, ---, 87.178, ------------------------, 
           100      10                     100
                                                    3 NA + 19587
                                            18.123, ------------]
                                                        100
</pre></div>

<p>ここで、一番目の成分は、<code>A</code>と<code>B</code>はカテゴリなので意味がなく、
二番目の成分は個々人の平均の歳の有理表現であり、
四番目と最後の値はある奇妙な振る舞いを示しています。
これは、
This is because symbol 
シンボル<code>NA</code>が<var>non available</var>データを示すようにここで使われているからで、
二つの平均は無意味です。
情報のある種の喪失を意味しますが、
可能な解は<code>NA</code>シンボルを持つ行を行列から取り除くことです。
</p><div class="example">
<pre class="example">(%i1) load (&quot;descriptive&quot;)$
(%i2) s3 : read_matrix (file_search (&quot;biomed.data&quot;))$
(%i3) g(v):= v[4] # NA and v[6] # NA $
</pre><pre class="example">(%i4) mean (subsample (s3, g, 3, 4, 5, 6));
(%o4) [79.4923076923077, 86.2032967032967, 16.93186813186813, 
                                                            2514
                                                            ----]
                                                             13
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-Package-descriptive">Package descriptive</a>
&middot;</div></dd></dl>


<a name="Item_003a-descriptive_002fnode_002fFunctions-and-Variables-for-descriptive-statistics"></a><hr>
<div class="header">
<p>
Next: <a href="maxima_187.html#Functions-and-Variables-for-descriptive-statistics" accesskey="n" rel="next">Functions and Variables for descriptive statistics</a>, Previous: <a href="maxima_185.html#Introduction-to-descriptive" accesskey="p" rel="previous">Introduction to descriptive</a>, Up: <a href="maxima_184.html#descriptive" accesskey="u" rel="up">descriptive</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="maxima_307.html#Function-and-Variable-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
