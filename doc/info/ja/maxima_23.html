<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Maxima 5.46.0 Manual: Functions and Variables for Arrays</title>

<meta name="description" content="Maxima 5.46.0 Manual: Functions and Variables for Arrays">
<meta name="keywords" content="Maxima 5.46.0 Manual: Functions and Variables for Arrays">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="maxima_toc.html#Top" rel="start" title="Top">
<link href="maxima_307.html#Function-and-Variable-Index" rel="index" title="Function and Variable Index">
<link href="maxima_toc.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="maxima_22.html#Arrays" rel="up" title="Arrays">
<link href="maxima_24.html#Structures" rel="next" title="Structures">
<link href="maxima_22.html#Arrays" rel="previous" title="Arrays">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
body {color: black; background: white;  margin-left: 8%; margin-right: 13%;
      font-family: "FreeSans", sans-serif}
h1 {font-size: 150%; font-family: "FreeSans", sans-serif}
h2 {font-size: 125%; font-family: "FreeSans", sans-serif}
h3 {font-size: 100%; font-family: "FreeSans", sans-serif}
a[href] {color: rgb(0,0,255); text-decoration: none;}
a[href]:hover {background: rgb(220,220,220);}
div.textbox {border: solid; border-width: thin; padding-top: 1em;
    padding-bottom: 1em; padding-left: 2em; padding-right: 2em}
div.titlebox {border: none; padding-top: 1em; padding-bottom: 1em;
    padding-left: 2em; padding-right: 2em; background: rgb(200,255,255);
    font-family: sans-serif}
div.synopsisbox {
    border: none; padding-top: 1em; padding-bottom: 1em; padding-left: 2em;
    padding-right: 2em; background: rgb(255,220,255);}
pre.example {border: 1px solid rgb(180,180,180); padding-top: 1em;
    padding-bottom: 1em; padding-left: 1em; padding-right: 1em;
    background-color: rgb(238,238,255)}
div.spacerbox {border: none; padding-top: 2em; padding-bottom: 2em}
div.image {margin: 0; padding: 1em; text-align: center}
div.categorybox {border: 1px solid gray; padding-top: 1em; padding-bottom: 1em;
    padding-left: 1em; padding-right: 1em; background: rgb(247,242,220)}
img {max-width:80%; max-height: 80%; display: block; margin-left: auto; margin-right: auto}

-->
</style>

<link rel="icon" href="figures/favicon.ico">

</head>

<body lang="ja" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Functions-and-Variables-for-Arrays"></a>
<div class="header">
<p>
Previous: <a href="maxima_22.html#Arrays" accesskey="p" rel="previous">Arrays</a>, Up: <a href="maxima_22.html#Arrays" accesskey="u" rel="up">Arrays</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="maxima_307.html#Function-and-Variable-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Functions-and-Variables-for-Arrays-1"></a>
<h3 class="section">5.7 Functions and Variables for Arrays</h3>

<a name="array"></a><a name="Item_003a-Arrays_002fdeffn_002farray"></a><dl>
<dt><a name="index-array"></a>関数: <strong>array</strong> <em>(<var>name</var>, <var>dim_1</var>, &hellip;, <var>dim_n</var>)</em></dt>
<dt><a name="index-array-1"></a>関数: <strong>array</strong> <em>(<var>name</var>, <var>type</var>, <var>dim_1</var>, &hellip;, <var>dim_n</var>)</em></dt>
<dt><a name="index-array-2"></a>関数: <strong>array</strong> <em>([<var>name_1</var>, &hellip;, <var>name_m</var>], <var>dim_1</var>, &hellip;, <var>dim_n</var>)</em></dt>
<dd>
<p><em>n</em>次元の配列を生成します。
<em>n</em>は5以下を取り得ます。
<em>i</em>番目の次元のための添字は0から<var>dim_i</var>まで動く整数です。
</p>
<p><code>array (<var>name</var>, <var>dim_1</var>, ..., <var>dim_n</var>)</code>は
一般的な配列を生成します。
</p>
<p><code>array (<var>name</var>, <var>type</var>, <var>dim_1</var>, ..., <var>dim_n</var>)</code>は
指定されたタイプの要素を持つ配列を生成します。
<var>type</var>には
制限されたサイズの整数には<code>fixnum</code>が使え、
また、浮動小数点には<code>flonum</code>が使えます。
</p>
<p><code>array ([<var>name_1</var>, ..., <var>name_m</var>], <var>dim_1</var>, ..., <var>dim_n</var>)</code>
は同じ次元の<em>m</em>個の配列を生成します。
</p>
<p>もしユーザーが対応する配列を宣言する前に添字付き変数に割り当てたら、
未宣言配列が生成されます。
(ハッシュコーディングが添字上でされるので)別名ハッシュド配列と知られる未宣言配列は、
宣言配列よりもっと一般的です。
ユーザーは最大サイズを宣言せず、さらなる要素が値に割り当てられる時、ハッシュすることで
それらは動的に成長します。
未宣言配列の添字は数である必要すらありません。
しかしながら、
配列がむしろ疎でないなら、
未宣言のまま放っておくより、可能な時に宣言した方がおそらく効率的です。
<code>array</code>関数は未宣言配列を宣言配列に変換するのに使うことができます。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-Arrays">Arrays</a>
&middot;</div></dd></dl>

<a name="arrayapply"></a><a name="Item_003a-Arrays_002fdeffn_002farrayapply"></a><dl>
<dt><a name="index-arrayapply"></a>関数: <strong>arrayapply</strong> <em>(<var>A</var>, [<var>i_1</var>, &hellip; <var>i_n</var>])</em></dt>
<dd><p><code><var>A</var> [<var>i_1</var>, ..., <var>i_n</var>]</code>を評価します。
ここで、<var>A</var>は配列、<var>i_1</var>, &hellip;, <var>i_n</var>は整数です。
</p>
<p>これは、最初の引数が関数の代わりに配列だということを除いて、
<code><a href="maxima_155.html#apply">apply</a></code>を連想させます。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-Expressions">Expressions</a>
&middot;<a href="maxima_311.html#Category_003a-Arrays">Arrays</a>
&middot;</div></dd></dl>

<a name="arrayinfo"></a><a name="Item_003a-Arrays_002fdeffn_002farrayinfo"></a><dl>
<dt><a name="index-arrayinfo"></a>関数: <strong>arrayinfo</strong> <em>(<var>A</var>)</em></dt>
<dd>
<p>配列<var>A</var>に関する情報を返します。
引数<var>A</var>は、宣言配列、未宣言(ハッシュド)配列、配列関数、または添字付き関数を取り得ます。
</p>
<p>宣言配列では、
<code>arrayinfo</code>は、
アトム<code>declared</code>と、次元数、それぞれの次元のサイズを含むリストを返します。
配列の要素は、バインドされたものもそうでないものも、<code>listarray</code>で返されます。
</p>
<p>未宣言配列(ハッシュド配列)では、
<code>arrayinfo</code>は、
アトム<code>hashed</code>と、添字の数、値を持つすべての要素の添字を含むリストを返します。
値は <code>listarray</code>で返されます。
</p>
<p>配列関数では、
<code>arrayinfo</code>は、
アトム<code>hashed</code>と、添字の数、
記憶された関数値がある添字の値すべてを含むリストを返します。
記憶された関数値は、<code>listarray</code>で返されます。
</p>
<p>添字付き関数では、、
<code>arrayinfo</code>は、
 returns a list comprising the 
アトム<code>hashed</code>と、添字の数、
ラムダ式がある添字の値すべてを含むリストを返します。
ラムダ式は <code>listarray</code>で返されます。
</p>
<p><code><a href="#listarray">listarray</a></code>も参照してください。
</p>
<p>例:
</p>
<p>宣言配列に適用された<code>arrayinfo</code>と<code>listarray</code>。
</p>
<div class="example">
<pre class="example">(%i1) array (aa, 2, 3);
(%o1)                          aa
</pre><pre class="example">(%i2) aa [2, 3] : %pi;
(%o2)                          %pi
</pre><pre class="example">(%i3) aa [1, 2] : %e;
(%o3)                          %e
</pre><pre class="example">(%i4) arrayinfo (aa);
(%o4)                 [declared, 2, [2, 3]]
</pre><pre class="example">(%i5) listarray (aa);
(%o5) [#####, #####, #####, #####, #####, #####, %e, #####, 
                                        #####, #####, #####, %pi]
</pre></div>

<p>未宣言(ハッシュド)配列に適用された<code>arrayinfo</code>と<code>listarray</code>。
</p>
<div class="example">
<pre class="example">(%i1) bb [FOO] : (a + b)^2;
                                   2
(%o1)                       (b + a)
</pre><pre class="example">(%i2) bb [BAR] : (c - d)^3;
                                   3
(%o2)                       (c - d)
</pre><pre class="example">(%i3) arrayinfo (bb);
(%o3)               [hashed, 1, [BAR], [FOO]]
</pre><pre class="example">(%i4) listarray (bb);
                              3         2
(%o4)                 [(c - d) , (b + a) ]
</pre></div>

<p>配列関数に適用された<code>arrayinfo</code>と<code>listarray</code>。
</p>
<div class="example">
<pre class="example">(%i1) cc [x, y] := y / x;
                                     y
(%o1)                      cc     := -
                             x, y    x
</pre><pre class="example">(%i2) cc [u, v];
                                v
(%o2)                           -
                                u
</pre><pre class="example">(%i3) cc [4, z];
                                z
(%o3)                           -
                                4
</pre><pre class="example">(%i4) arrayinfo (cc);
(%o4)              [hashed, 2, [4, z], [u, v]]
</pre><pre class="example">(%i5) listarray (cc);
                              z  v
(%o5)                        [-, -]
                              4  u
</pre></div>

<p>添字付き関数に適用された<code>arrayinfo</code>と<code>listarray</code>。
</p>
<div class="example">
<pre class="example">(%i1) dd [x] (y) := y ^ x;
                                     x
(%o1)                     dd (y) := y
                            x
</pre><pre class="example">(%i2) dd [a + b];
                                    b + a
(%o2)                  lambda([y], y     )
</pre><pre class="example">(%i3) dd [v - u];
                                    v - u
(%o3)                  lambda([y], y     )
</pre><pre class="example">(%i4) arrayinfo (dd);
(%o4)             [hashed, 1, [b + a], [v - u]]
</pre><pre class="example">(%i5) listarray (dd);
                         b + a                v - u
(%o5)      [lambda([y], y     ), lambda([y], y     )]
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-Arrays">Arrays</a>
&middot;</div></dd></dl>

<a name="arraymake"></a><a name="Item_003a-Arrays_002fdeffn_002farraymake"></a><dl>
<dt><a name="index-arraymake"></a>関数: <strong>arraymake</strong> <em>(<var>A</var>, [<var>i_1</var>, &hellip;, <var>i_n</var>])</em></dt>
<dd><p>式<code><var>A</var>[<var>i_1</var>, ..., <var>i_n</var>]</code>を返します。
結果は未評価の配列参照です。
</p>
<p><code>arraymake</code>は、
戻り値は、未評価関数コールの代わりに未評価の配列参照だということを除いて、
<code><a href="maxima_155.html#funmake">funmake</a></code>を連想させます。
</p>
<p>例:
</p><div class="example">
<pre class="example">(%i1) arraymake (A, [1]);
(%o1)                          A
                                1
</pre><pre class="example">(%i2) arraymake (A, [k]);
(%o2)                          A
                                k
</pre><pre class="example">(%i3) arraymake (A, [i, j, 3]);
(%o3)                       A
                             i, j, 3
</pre><pre class="example">(%i4) array (A, fixnum, 10);
(%o4)                           A
</pre><pre class="example">(%i5) fillarray (A, makelist (i^2, i, 1, 11));
(%o5)                           A
</pre><pre class="example">(%i6) arraymake (A, [5]);
(%o6)                          A
                                5
</pre><pre class="example">(%i7) ''%;
(%o7)                          36
</pre><pre class="example">(%i8) L : [a, b, c, d, e];
(%o8)                    [a, b, c, d, e]
</pre><pre class="example">(%i9) arraymake ('L, [n]);
(%o9)                          L
                                n
</pre><pre class="example">(%i10) ''%, n = 3;
(%o10)                          c
</pre><pre class="example">(%i11) A2 : make_array (fixnum, 10);
(%o11)          {Array:  #(0 0 0 0 0 0 0 0 0 0)}
</pre><pre class="example">(%i12) fillarray (A2, [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);
(%o12)          {Array:  #(1 2 3 4 5 6 7 8 9 10)}
</pre><pre class="example">(%i13) arraymake ('A2, [8]);
(%o13)                         A2
                                 8
</pre><pre class="example">(%i14) ''%;
(%o14)                          9
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-Expressions">Expressions</a>
&middot;<a href="maxima_311.html#Category_003a-Arrays">Arrays</a>
&middot;</div></dd></dl>

<a name="arrays"></a><a name="Item_003a-Arrays_002fdefvr_002farrays"></a><dl>
<dt><a name="index-arrays"></a>システム変数: <strong>arrays</strong></dt>
<dd><p>デフォルト値: <code>[]</code>
</p>
<p><code>arrays</code>は割り当てられた配列のリストです。
これらは、<code>array</code>で宣言された配列、
(なにかw配列要素に割り当てられた)陰の定義で構成されたハッシュド配列、
<code>:=</code>と<code>define</code>で定義された配列関数を含みます。
<code><a href="#make_005farray">make_array</a></code>で定義された配列は含まれません。
</p>
<p><code><a href="#array">array</a></code>, <code><a href="#arrayapply">arrayapply</a></code>, <code><a href="#arrayinfo">arrayinfo</a></code>, <code><a href="#arraymake">arraymake</a></code>, 
<code><a href="#fillarray">fillarray</a></code>, <code><a href="#listarray">listarray</a></code>, <code><a href="#rearray">rearray</a></code>も参照してください。
</p>
<p>例:
</p>
<div class="example">
<pre class="example">(%i1) array (aa, 5, 7);
(%o1)                          aa
</pre><pre class="example">(%i2) bb [FOO] : (a + b)^2;
                                   2
(%o2)                       (b + a)
</pre><pre class="example">(%i3) cc [x] := x/100;
                                   x
(%o3)                      cc  := ---
                             x    100
</pre><pre class="example">(%i4) dd : make_array ('any, 7);
(%o4)       {Array:  #(NIL NIL NIL NIL NIL NIL NIL)}
</pre><pre class="example">(%i5) arrays;
(%o5)                     [aa, bb, cc]
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-Arrays">Arrays</a>
&middot;<a href="maxima_311.html#Category_003a-Global-variables">Global variables</a>
&middot;</div></dd></dl>

<a name="fillarray"></a><a name="Item_003a-Arrays_002fdeffn_002ffillarray"></a><dl>
<dt><a name="index-fillarray"></a>関数: <strong>fillarray</strong> <em>(<var>A</var>, <var>B</var>)</em></dt>
<dd>
<p>配列<var>A</var>を<var>B</var>から埋めます。
ここで、<var>B</var>はリストか配列です。
</p>
<p>もし生成時に特定のタイプが<var>A</var>のために宣言されたら、
その同じタイプの要素でだけ埋めることができます;
もし違ったタイプの要素をコピーする試みがなされたらエラーです。
</p>
<p>もし配列<var>A</var>と<var>B</var>の次元が違ったら、
<var>A</var>は行優先順で埋められます。
もし<var>B</var>の中の要素が十分でないなら、
<var>A</var>の残りを埋めるのに最後の要素が使われます。
もし多すぎるなら、残りは無視されます。
</p>
<p><code>fillarray</code>は最初の引数を返します。
</p>
<p>例:
</p>
<p>9個の要素の配列を生成し、リストから埋めます。
</p><div class="example">
<pre class="example">(%i1) array (a1, fixnum, 8);
(%o1)                          a1
</pre><pre class="example">(%i2) listarray (a1);
(%o2)              [0, 0, 0, 0, 0, 0, 0, 0, 0]
</pre><pre class="example">(%i3) fillarray (a1, [1, 2, 3, 4, 5, 6, 7, 8, 9]);
(%o3)                          a1
</pre><pre class="example">(%i4) listarray (a1);
(%o4)              [1, 2, 3, 4, 5, 6, 7, 8, 9]
</pre></div>

<p>配列を埋めるのに要素が足らない時、
最後の要素が繰り返されます。
要素が多すぎる時、余分の要素は無視されます。
</p><div class="example">
<pre class="example">(%i1) a2 : make_array (fixnum, 8);
(%o1)             {Array:  #(0 0 0 0 0 0 0 0)}
</pre><pre class="example">(%i2) fillarray (a2, [1, 2, 3, 4, 5]);
(%o2)             {Array:  #(1 2 3 4 5 5 5 5)}
</pre><pre class="example">(%i3) fillarray (a2, [4]);
(%o3)             {Array:  #(4 4 4 4 4 4 4 4)}
</pre><pre class="example">(%i4) fillarray (a2, makelist (i, i, 1, 100));
(%o4)             {Array:  #(1 2 3 4 5 6 7 8)}
</pre></div>

<p>多次元配列は行優先順に埋められます。
</p>
<div class="example">
<pre class="example">(%i1) a3 : make_array (fixnum, 2, 5);
(%o1)        {Array:  #2A((0 0 0 0 0) (0 0 0 0 0))}
</pre><pre class="example">(%i2) fillarray (a3, [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);
(%o2)        {Array:  #2A((1 2 3 4 5) (6 7 8 9 10))}
</pre><pre class="example">(%i3) a4 : make_array (fixnum, 5, 2);
(%o3)     {Array:  #2A((0 0) (0 0) (0 0) (0 0) (0 0))}
</pre><pre class="example">(%i4) fillarray (a4, a3);
(%o4)     {Array:  #2A((1 2) (3 4) (5 6) (7 8) (9 10))}
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-Arrays">Arrays</a>
&middot;</div></dd></dl>

<a name="listarray"></a><a name="Item_003a-Arrays_002fdeffn_002flistarray"></a><dl>
<dt><a name="index-listarray"></a>関数: <strong>listarray</strong> <em>(<var>A</var>)</em></dt>
<dd>
<p>配列<var>A</var>の要素のリストを返します。
引数<var>A</var>は、宣言配列、未宣言(ハッシュド)配列、配列関数、添字付き関数を取り得ます。
</p>
<p>要素は行優先順にリストされます。
すなわち、要素は、最初のインデックスに従って振り分けられ、次に二番目のインデックスに従って、などなど。
インデックス値の振り分け順は、
<code><a href="maxima_32.html#orderless">orderless</a></code>が確立する順と同じです。
</p>
<p>未宣言配列や、配列関数、添字付き関数では、
要素は<code><a href="#arrayinfo">arrayinfo</a></code>が返すインデックス値に対応します。
</p>
<p>宣言された一般配列のバインドされていない要素(すなわち、<code>fixnum</code>でも<code>flonum</code>でもない要素)は、 <code>#####</code>として返されます。
宣言された<code>fixnum</code>配列または<code>flonum</code>配列のバイドされていない要素は、
それぞれ0または0.0として返されます。
未宣言配列、配列関数、添字付き関数のバインドされていない要素は返されません。
</p>
<p>例:
</p>
<p>宣言配列に適用された<code>listarray</code>と<code>arrayinfo</code>。
</p>
<div class="example">
<pre class="example">(%i1) array (aa, 2, 3);
(%o1)                          aa
</pre><pre class="example">(%i2) aa [2, 3] : %pi;
(%o2)                          %pi
</pre><pre class="example">(%i3) aa [1, 2] : %e;
(%o3)                          %e
</pre><pre class="example">(%i4) listarray (aa);
(%o4) [#####, #####, #####, #####, #####, #####, %e, #####, 
                                        #####, #####, #####, %pi]
</pre><pre class="example">(%i5) arrayinfo (aa);
(%o5)                 [declared, 2, [2, 3]]
</pre></div>

<p>未宣言(ハッシュド)配列に適用された<code>listarray</code>と<code>arrayinfo</code>。
</p>
<div class="example">
<pre class="example">(%i1) bb [FOO] : (a + b)^2;
                                   2
(%o1)                       (b + a)
</pre><pre class="example">(%i2) bb [BAR] : (c - d)^3;
                                   3
(%o2)                       (c - d)
</pre><pre class="example">(%i3) listarray (bb);
                              3         2
(%o3)                 [(c - d) , (b + a) ]
</pre><pre class="example">(%i4) arrayinfo (bb);
(%o4)               [hashed, 1, [BAR], [FOO]]
</pre></div>

<p>配列関数に適用された<code>listarray</code>と<code>arrayinfo</code>。
</p>
<div class="example">
<pre class="example">(%i1) cc [x, y] := y / x;
                                     y
(%o1)                      cc     := -
                             x, y    x
</pre><pre class="example">(%i2) cc [u, v];
                                v
(%o2)                           -
                                u
</pre><pre class="example">(%i3) cc [4, z];
                                z
(%o3)                           -
                                4
</pre><pre class="example">(%i4) listarray (cc);
                              z  v
(%o4)                        [-, -]
                              4  u
</pre><pre class="example">(%i5) arrayinfo (cc);
(%o5)              [hashed, 2, [4, z], [u, v]]
</pre></div>

<p>添字付き関数に適用された<code>listarray</code>と<code>arrayinfo</code>。
</p>
<div class="example">
<pre class="example">(%i1) dd [x] (y) := y ^ x;
                                     x
(%o1)                     dd (y) := y
                            x
</pre><pre class="example">(%i2) dd [a + b];
                                    b + a
(%o2)                  lambda([y], y     )
</pre><pre class="example">(%i3) dd [v - u];
                                    v - u
(%o3)                  lambda([y], y     )
</pre><pre class="example">(%i4) listarray (dd);
                         b + a                v - u
(%o4)      [lambda([y], y     ), lambda([y], y     )]
</pre><pre class="example">(%i5) arrayinfo (dd);
(%o5)             [hashed, 1, [b + a], [v - u]]
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-Arrays">Arrays</a>
&middot;</div></dd></dl>


<a name="make_005farray"></a><a name="Item_003a-Arrays_002fdeffn_002fmake_005farray"></a><dl>
<dt><a name="index-make_005farray"></a>関数: <strong>make_array</strong> <em>(<var>type</var>, <var>dim_1</var>, ..., <var>dim_n</var>)</em></dt>
<dd>
<p>Lisp配列を生成し、返します。
<var>type</var>は、<code>any</code>, <code>flonum</code>, <code>fixnum</code>, <code>hashed</code>, 
<code>functional</code>を取り得ます。
<em>n</em>個のインデックスがあり、
<em>i</em>番目のインデックスは0から<em><var>dim_i</var> - 1</em>まで動きます。
</p>
<p><code>make_array</code>の<code><a href="#array">array</a></code>に対する利点は、
戻り値が名前を持たないことであり、
一旦、それへのポインタが消えると、それも消えます。
例えば、もし<code>y: make_array (...)</code>なら、
<code>y</code>は領域を取るオブジェクトを指しますが、
<code>y: false</code>の後、<code>y</code>はそのオブジェクトをもはや指さないので、
オブジェクトはガーベッジコレクトされることができます。
</p>

<p>例:
</p>
<div class="example">
<pre class="example">(%i1) A1 : make_array (fixnum, 10);
(%o1)           {Array:  #(0 0 0 0 0 0 0 0 0 0)}
</pre><pre class="example">(%i2) A1 [8] : 1729;
(%o2)                         1729
</pre><pre class="example">(%i3) A1;
(%o3)          {Array:  #(0 0 0 0 0 0 0 0 1729 0)}
</pre><pre class="example">(%i4) A2 : make_array (flonum, 10);
(%o4) {Array:  #(0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0)}
</pre><pre class="example">(%i5) A2 [2] : 2.718281828;
(%o5)                      2.718281828
</pre><pre class="example">(%i6) A2;
(%o6) 
     {Array:  #(0.0 0.0 2.718281828 0.0 0.0 0.0 0.0 0.0 0.0 0.0)}
</pre><pre class="example">(%i7) A3 : make_array (any, 10);
(%o7) {Array:  #(NIL NIL NIL NIL NIL NIL NIL NIL NIL NIL)}
</pre><pre class="example">(%i8) A3 [4] : x - y - z;
(%o8)                      - z - y + x
</pre><pre class="example">(%i9) A3;
(%o9) {Array:  #(NIL NIL NIL NIL ((MPLUS SIMP) $X ((MTIMES SIMP)\
 -1 $Y) ((MTIMES SIMP) -1 $Z))
  NIL NIL NIL NIL NIL)}
</pre><pre class="example">(%i10) A4 : make_array (fixnum, 2, 3, 5);
(%o10) {Array:  #3A(((0 0 0 0 0) (0 0 0 0 0) (0 0 0 0 0)) ((0 0 \
0 0 0) (0 0 0 0 0) (0 0 0 0 0)))}
</pre><pre class="example">(%i11) fillarray (A4, makelist (i, i, 1, 2*3*5));
(%o11) {Array:  #3A(((1 2 3 4 5) (6 7 8 9 10) (11 12 13 14 15))
    ((16 17 18 19 20) (21 22 23 24 25) (26 27 28 29 30)))}
</pre><pre class="example">(%i12) A4 [0, 2, 1];
(%o12)                         12
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-Arrays">Arrays</a>
&middot;</div></dd></dl>

<a name="rearray"></a><a name="Item_003a-Arrays_002fdeffn_002frearray"></a><dl>
<dt><a name="index-rearray"></a>関数: <strong>rearray</strong> <em>(<var>A</var>, <var>dim_1</var>, ..., <var>dim_n</var>)</em></dt>
<dd>
<p>配列の次元を変えます。
新しい配列は
行優先順に古いものの配列で埋められます。
もし古い配列が小さすぎるなら、
残りの要素は、
配列のタイプに依って、
<code>false</code>, <code>0.0</code>または<code>0</code>で埋められます。
配列のタイプは変えられません。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-Arrays">Arrays</a>
&middot;</div></dd></dl>

<a name="remarray"></a><a name="Item_003a-Arrays_002fdeffn_002fremarray"></a><dl>
<dt><a name="index-remarray"></a>関数: <strong>remarray</strong> <em>(<var>A_1</var>, ..., <var>A_n</var>)</em></dt>
<dt><a name="index-remarray-1"></a>関数: <strong>remarray</strong> <em>(all)</em></dt>
<dd>
<p>配列と関数に関連づけられた配列を削除し、占められた領域を開放します。
引数は、宣言配列、未宣言(ハッシュド)配列、配列関数、添字付き関数を取り得ます。
</p>
<p><code>remarray (all)</code>は、
グローバルリスト<code><a href="#arrays">arrays</a></code>の中の項目すべてを削除します。
</p>
<p>もしハッシュド配列の中の値を再定義することが望ましいなら、この関数を使うことが必要になるかもしれません。
</p>
<p><code>remarray</code>は削除された配列のリストを返します。
</p>
<p><code>remarray</code>はクォートします。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-Arrays">Arrays</a>
&middot;</div></dd></dl>

<a name="subvar"></a><a name="Item_003a-Arrays_002fdeffn_002fsubvar"></a><dl>
<dt><a name="index-subvar"></a>関数: <strong>subvar</strong> <em>(<var>x</var>, <var>i</var>)</em></dt>
<dd>
<p>添字付き式<code><var>x</var>[<var>i</var>]</code>を評価します。
</p>
<p><code>subvar</code>は引数を評価します。
</p>
<p><code>arraymake (<var>x</var>, [<var>i</var>]</code>は
式<code><var>x</var>[<var>i</var>]</code>を構成しますが、
それを評価はしません。
</p>
<p>例:
</p>
<div class="example">
<pre class="example">(%i1) x : foo $
(%i2) i : 3 $
</pre><pre class="example">(%i3) subvar (x, i);
(%o3)                         foo
                                 3
</pre><pre class="example">(%i4) foo : [aa, bb, cc, dd, ee]$
</pre><pre class="example">(%i5) subvar (x, i);
(%o5)                          cc
</pre><pre class="example">(%i6) arraymake (x, [i]);
(%o6)                         foo
                                 3
</pre><pre class="example">(%i7) ''%;
(%o7)                          cc
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-Expressions">Expressions</a>
&middot;<a href="maxima_311.html#Category_003a-Arrays">Arrays</a>
&middot;</div></dd></dl>


<a name="subvarp"></a><a name="Item_003a-Arrays_002fdeffn_002fsubvarp"></a><dl>
<dt><a name="index-subvarp"></a>関数: <strong>subvarp</strong> <em>(<var>expr</var>)</em></dt>
<dd>
<p>もし<var>expr</var>が例えば<code>a[i]</code>のように添字された変数なら、<code>true</code>を返します。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-Predicate-functions">Predicate functions</a>
&middot;</div></dd></dl>


<a name="use_005ffast_005farrays"></a><a name="Item_003a-Arrays_002fdefvr_002fuse_005ffast_005farrays"></a><dl>
<dt><a name="index-use_005ffast_005farrays"></a>オプション変数: <strong>use_fast_arrays</strong></dt>
<dd>
<p>もし<code>true</code>なら、配列の２つのタイプだけが認識されます:
</p>
<ol>
<li> 整数でインデックスされたいくつかの次元を持つができ、
情報入力としてLispまたはMaximaオブジェクトを保てるart-q配列(Common Lispでのt)。
そんな配列を構成するには、
<code>a:make_array(any,3,4);</code>を入力してください。
<code>a</code>は、12個の枠を持つ配列を値として持ち、インデックスはゼロベースです

</li><li> もし<code>b[x+1]:y^2</code>を実行したら、生成された配列のデフォルト値でハッシュテーブル配列
(<code>b</code>はまだ配列でもリストでも行列でもありません &ndash;
もしこれらの１つなら、<code>x+1</code>は、art-q配列やリスト、行列の有効な添字ではないので
、エラーが起こります。)
(キーとしても知られている)インデックスは、任意のオブジェクトを取り得ます。
一度の１つのキーだけを取ります((<code>b[x+1,u]:y</code>は<code>u</code>を無視します。)。
参照は、<code>b[x+1] ==&gt; y^2</code>によってされます。
もちろん、キーは、例えば、
<code>b[[x+1,u]]:y</code>が有効なように
リストを取り得ます。
これは古いMaximaハッシュ配列と非互換ですが、コンシングを保ちます。
</li></ol>

<p>配列をシンボルの値として記憶することの利点は、
関数のローカル変数についての普通の慣例が配列にも適用することです。
ハッシュテーブルタイプは、
Maximaハッシャの古いタイプよりも
少ないコンシングを使い、もっと効率的です。
翻訳され、コンパイルされたコードに関する一貫した振る舞いを得るためには、
<code>translate_fast_arrays</code>を<code>true</code>に設定してください。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-Arrays">Arrays</a>
&middot;<a href="maxima_311.html#Category_003a-Global-flags">Global flags</a>
&middot;</div></dd></dl>
<a name="Item_003a-defstruct_002fnode_002fStructures"></a><hr>
<div class="header">
<p>
Previous: <a href="maxima_22.html#Arrays" accesskey="p" rel="previous">Arrays</a>, Up: <a href="maxima_22.html#Arrays" accesskey="u" rel="up">Arrays</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="maxima_307.html#Function-and-Variable-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
