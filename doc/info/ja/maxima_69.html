<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Maxima 5.46.0 Manual: Functions and Variables for File Input and Output</title>

<meta name="description" content="Maxima 5.46.0 Manual: Functions and Variables for File Input and Output">
<meta name="keywords" content="Maxima 5.46.0 Manual: Functions and Variables for File Input and Output">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="maxima_toc.html#Top" rel="start" title="Top">
<link href="maxima_307.html#Function-and-Variable-Index" rel="index" title="Function and Variable Index">
<link href="maxima_toc.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="maxima_66.html#File-Input-and-Output" rel="up" title="File Input and Output">
<link href="maxima_70.html#Polynomials" rel="next" title="Polynomials">
<link href="maxima_68.html#Files" rel="previous" title="Files">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
body {color: black; background: white;  margin-left: 8%; margin-right: 13%;
      font-family: "FreeSans", sans-serif}
h1 {font-size: 150%; font-family: "FreeSans", sans-serif}
h2 {font-size: 125%; font-family: "FreeSans", sans-serif}
h3 {font-size: 100%; font-family: "FreeSans", sans-serif}
a[href] {color: rgb(0,0,255); text-decoration: none;}
a[href]:hover {background: rgb(220,220,220);}
div.textbox {border: solid; border-width: thin; padding-top: 1em;
    padding-bottom: 1em; padding-left: 2em; padding-right: 2em}
div.titlebox {border: none; padding-top: 1em; padding-bottom: 1em;
    padding-left: 2em; padding-right: 2em; background: rgb(200,255,255);
    font-family: sans-serif}
div.synopsisbox {
    border: none; padding-top: 1em; padding-bottom: 1em; padding-left: 2em;
    padding-right: 2em; background: rgb(255,220,255);}
pre.example {border: 1px solid rgb(180,180,180); padding-top: 1em;
    padding-bottom: 1em; padding-left: 1em; padding-right: 1em;
    background-color: rgb(238,238,255)}
div.spacerbox {border: none; padding-top: 2em; padding-bottom: 2em}
div.image {margin: 0; padding: 1em; text-align: center}
div.categorybox {border: 1px solid gray; padding-top: 1em; padding-bottom: 1em;
    padding-left: 1em; padding-right: 1em; background: rgb(247,242,220)}
img {max-width:80%; max-height: 80%; display: block; margin-left: auto; margin-right: auto}

-->
</style>

<link rel="icon" href="figures/favicon.ico">

</head>

<body lang="ja" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Functions-and-Variables-for-File-Input-and-Output"></a>
<div class="header">
<p>
Previous: <a href="maxima_68.html#Files" accesskey="p" rel="previous">Files</a>, Up: <a href="maxima_66.html#File-Input-and-Output" accesskey="u" rel="up">File Input and Output</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="maxima_307.html#Function-and-Variable-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Functions-and-Variables-for-File-Input-and-Output-1"></a>
<h3 class="section">13.3 Functions and Variables for File Input and Output</h3>

<a name="appendfile"></a><a name="Item_003a-Input_002fdeffn_002fappendfile"></a><dl>
<dt><a name="index-appendfile"></a>関数: <strong>appendfile</strong> <em>(<var>filename</var>)</em></dt>
<dd><p>コンソールの筆記録を<var>filename</var>に追加します。
<code>appendfile</code>は、
筆記録ファイルが、存在すれば、いつも追加されることを除いて、
<code>writefile</code>と同じです。
</p>
<p><code><a href="#closefile">closefile</a></code>は、<code>appendfile</code>や<code>writefile</code>によって開かれた筆記録ファイルを閉じます。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-File-output">File output</a>
&middot;<a href="maxima_311.html#Category_003a-Console-interaction">Console interaction</a>
&middot;</div></dd></dl>

<a name="batch"></a><a name="Item_003a-Input_002fdeffn_002fbatch"></a><dl>
<dt><a name="index-batch"></a>関数: <strong>batch</strong> <em>(<var>filename</var>)</em></dt>
<dt><a name="index-batch-1"></a>関数: <strong>batch</strong> <em>(<var>filename</var>, <code>option</code>)</em></dt>
<dd>
<p><code>batch(<var>filename</var>)</code>はMaximaの式を<var>filename</var>から読み込み、評価します。
<code>batch</code>は、リスト<code><a href="#file_005fsearch_005fmaxima">file_search_maxima</a></code>の中で<var>filename</var>を検索します。
<code><a href="#file_005fsearch">file_search</a></code>も参照してください。
</p>
<p><code>batch(<var>filename</var>, <code>demo</code>)</code>は、
<code>demo(<var>filename</var>)</code>ようなものです。
この場合、<code>batch</code>は、リスト<code><a href="#file_005fsearch_005fdemo">file_search_demo</a></code>の中で
<var>filename</var>を検索します。
<code><a href="maxima_5.html#demo">demo</a></code>を参照してください。
</p>
<p><code>batch(<var>filename</var>, <code>test</code>)</code>は、
オプション<code>display_all=true</code>を付けた<code>run_testsuite</code>ようなものです。
この場合、<code>batch</code>は、
<code>run_testsuite</code>のようにリスト<code>file_search_tests</code>ではなく、
リスト<code>file_search_maxima</code>の中で<var>filename</var>を検索します。
更に、<code>run_testsuite</code>はリスト<code>testsuite_files</code>の中にあるテストを実行します。
<code>batch</code>を使うと、どんなファイルもテストモードで実行することが可能です。
ファイルはリスト<code>file_search_maxima</code>の中であってもいいです。
これはテストファイルを書いている時に便利です。
</p>
<p><var>filename</var>は、一連のMaximaの式より成り、それぞれの式は、<code>;</code>もしくは<code>$</code>で終了します。
特殊変数<code><a href="maxima_8.html#g_t_0025">%</a></code>と関数<code><a href="maxima_8.html#g_t_0025th">%th</a></code>は、ファイル内での前の結果を参照します。
ファイルは<code>:lisp</code>構成子を含むかもしれません。
ファイルの中の空白、タブ、改行は無視されます。
適した入力ファイルは、テキストエディタもしくは、<code><a href="#stringout">stringout</a></code>関数で作ることができます。
</p>
<p><code>batch</code>は、それぞれの入力式を<var>filename</var>から読み込み、
入力をコンソールに表示し、
対応する出力式を計算し、
出力式を表示します。
入力ラベルは入力式に割り当てられ、出力ラベルは出力式に割り当てられます。
<code>batch</code>は、エラーがない限り、ファイルの中のすべての入力式を評価します。
もしユーザー入力が（例えば、<code><a href="maxima_57.html#asksign">asksign</a></code>や<code><a href="maxima_57.html#askinteger">askinteger</a></code>によって）要求されたら、
<code>batch</code>は、ポーズして必要な入力を入手し、続けます。
</p>
<p>コンソールで<code>control-C</code>をタイプすることで、<code>batch</code>を停止させることが可能かもしれません。
<code>control-C</code>の効果は、基礎となるLispの実装に依存します。
</p>
<p><code>batch</code>にはいくつか用法があります。
役立つコマンドラインの蓄積を供給したり、
エラーのないデモンストレーションを与えたり、
複雑な問題を解く時、人の考えを整理するのを助けたり。
</p>
<p><code>batch</code>は引数を評価します。
第二引数なしで呼び出されたり、オプション<code>demo</code>で呼び出された時、
<code>batch</code>は<code>filename</code>のパスを文字列として返します。
オプション<code>test</code>で呼び出された時、
戻り値は、空のリスト<code>[]</code>か、<var>filename</var>と失敗したテストの数を含むリストです。
</p>
<p><code><a href="#load">load</a></code>, <code><a href="#batchload">batchload</a></code>, <code><a href="maxima_5.html#demo">demo</a></code>も参照してください。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-Session-management">Session management</a>
&middot;<a href="maxima_311.html#Category_003a-File-input">File input</a>
&middot;</div>
</dd></dl>


<a name="batchload"></a><a name="Item_003a-Input_002fdeffn_002fbatchload"></a><dl>
<dt><a name="index-batchload"></a>関数: <strong>batchload</strong> <em>(<var>filename</var>)</em></dt>
<dd>
<p><var>filename</var>からMaximaの式を読み込み、評価します。
入力式や出力式を表示しません。
ラベルを出力式に割り当てません。
しかし、（<code>print</code>や<code>describe</code>が生成するような)プリント文の出力は表示されます。
</p>
<p>特殊変数<code><a href="maxima_8.html#g_t_0025">%</a></code>や関数<code><a href="maxima_8.html#g_t_0025th">%th</a></code>は、
ファイルの中の結果ではなく、対話インタープリタからの以前の結果を参照します。
ファイルは<code>:lisp</code>構成子を含むことはできません。
</p>
<p><code>batchload</code>は、<var>filename</var>のパスを文字列として返します。
<code>batchload</code>は引数を評価します。
</p>
<p><code><a href="#batch">batch</a></code>や<code><a href="#load">load</a></code>も参照してください。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-Session-management">Session management</a>
&middot;<a href="maxima_311.html#Category_003a-File-input">File input</a>
&middot;</div></dd></dl>

<a name="closefile"></a><a name="Item_003a-Input_002fdeffn_002fclosefile"></a><dl>
<dt><a name="index-closefile"></a>関数: <strong>closefile</strong> <em>()</em></dt>
<dd>
<p><code><a href="#writefile">writefile</a></code>や<code><a href="#appendfile">appendfile</a></code>で開いたトランスクリプトファイルを閉じます。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-File-output">File output</a>
&middot;<a href="maxima_311.html#Category_003a-Console-interaction">Console interaction</a>
&middot;</div></dd></dl>

<a name="file_005foutput_005fappend"></a><a name="Item_003a-Input_002fdefvr_002ffile_005foutput_005fappend"></a><dl>
<dt><a name="index-file_005foutput_005fappend"></a>オプション変数: <strong>file_output_append</strong></dt>
<dd><p>デフォルト値: <code>false</code>
</p>
<p><code>file_output_append</code>は、
ファイル出力関数が出力ファイルに追加するか、ファイルを切り詰めるか決めます。
<code>file_output_append</code>が<code>true</code>の時、
ファイル出力関数は出力ファイルに追加します。
そうでなければ，出力ファイルは切り詰められます。
</p>
<p><code><a href="#save">save</a></code>, <code><a href="#stringout">stringout</a></code>, <code><a href="#with_005fstdout">with_stdout</a></code>は、<code>file_output_append</code>を考慮します。
出力ファイルを書き出す他の関数は<code>file_output_append</code>を考慮しません。
特に、プロット感巣や変換関数は常に出力ファイルを切り詰め、
<code><a href="#tex">tex</a></code>や<code><a href="#appendfile">appendfile</a></code>はいつも追加します。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-File-output">File output</a>
&middot;<a href="maxima_311.html#Category_003a-Global-flags">Global flags</a>
&middot;</div></dd></dl>



<a name="filename_005fmerge"></a><a name="Item_003a-Input_002fdeffn_002ffilename_005fmerge"></a><dl>
<dt><a name="index-filename_005fmerge"></a>関数: <strong>filename_merge</strong> <em>(<var>path</var>, <var>filename</var>)</em></dt>
<dd>
<p><var>path</var>と<var>filename</var>から修正されたパスを構成します。
もし、<var>path</var>の最後の構成要素が形式<code>###.<var>something</var></code>なら、
構成要素は、<code><var>filename</var>.<var>something</var></code>に置き換えられます。
そうでなければ、最後の構成要素は単に<var>filename</var>に置き換えられます。
</p>
<p>結果はLispのパス名オブジェクトです。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-File-input">File input</a>
&middot;<a href="maxima_311.html#Category_003a-File-output">File output</a>
&middot;</div></dd></dl>

<a name="file_005fsearch"></a><a name="Item_003a-Input_002fdeffn_002ffile_005fsearch"></a><dl>
<dt><a name="index-file_005fsearch"></a>関数: <strong>file_search</strong> <em>(<var>filename</var>)</em></dt>
<dt><a name="index-file_005fsearch-1"></a>関数: <strong>file_search</strong> <em>(<var>filename</var>, <var>pathlist</var>)</em></dt>
<dd>
<p><code>file_search</code>は、ファイル<var>filename</var>を検索し、
もし見つかれば、（文字列として）ファイルへのパスを返します;
そうでなければ、<code>file_search</code>は<code>false</code>を返します。
<code>file_search (<var>filename</var>)</code>は、
デフォルトのサーチディレクトリを検索します。
デフォルトのサーチディレクトリは、<code><a href="#file_005fsearch_005fmaxima">file_search_maxima</a></code>,
<code><a href="#file_005fsearch_005flisp">file_search_lisp</a></code>, <code><a href="#file_005fsearch_005fdemo">file_search_demo</a></code>変数によって指定されます。
</p>
<p><code>file_search</code>は、
名前を「ワイルドカード」ファイルサーチパターンにマッチさせようとする前に、
最初に、渡された実際の名前が存在するかチェックします。
ファイルサーチパターンに関連した<code><a href="#file_005fsearch_005fmaxima">file_search_maxima</a></code>を参照してください。
</p>
<p>引数<var>filename</var>は、パスとファイル名、もしくは単にファイル名、もしくは、
もしファイルサーチディレクトリがファイルサーチパターンを含むなら、単にファイル名のベース（拡張子なし）、を取り得ます。
例えば、
</p>
<div class="example">
<pre class="example">file_search (&quot;/home/wfs/special/zeta.mac&quot;);
file_search (&quot;zeta.mac&quot;);
file_search (&quot;zeta&quot;);
</pre></div>

<p>ファイルが存在していて、<code>/home/wfs/special/###.mac</code>が<code>file_search_maxima</code>に中にあるという仮定の下で、上記すべては同じファイルを見つけます。
</p>
<p><code>file_search (<var>filename</var>, <var>pathlist</var>)</code>は、
<var>pathlist</var>によって指定されたディレクトリの中だけを検索します。
ここで、<var>pathlist</var>は文字列のりすとです。
引数<var>pathlist</var>は、デフォルトの検索ディレクトリに取って代わります。
だから、もしパスリストが与えられたら、デフォルトの検索ディレクトリのいずれでもなく、<code>file_search</code>は指定されたところだけを検索します。
<var>pathlist</var>の中に１つのディレクトリだけしかない場合でさえ、まだ、
それは、要素１つのリストとして与えられなければいけません。
</p>
<p>ユーザーはデフォルト検索ディレクトリを修正できます。
<code><a href="#file_005fsearch_005fmaxima">file_search_maxima</a></code>を参照してください。
</p>
<p><code>file_search</code>は、<code>file_search_maxima</code>と<code><a href="#file_005fsearch_005flisp">file_search_lisp</a></code>を
を検索ディレクトリとして、
<code><a href="#load">load</a></code>によって呼び出されます。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-File-input">File input</a>
&middot;</div>
</dd></dl>

<a name="file_005fsearch_005fmaxima"></a><a name="file_005fsearch_005flisp"></a><a name="file_005fsearch_005fdemo"></a><a name="file_005fsearch_005fusage"></a><a name="file_005fsearch_005ftests"></a><a name="Item_003a-Input_002fdefvr_002ffile_005fsearch_005fmaxima"></a><dl>
<dt><a name="index-file_005fsearch_005fmaxima"></a>オプション変数: <strong>file_search_maxima</strong></dt>
<dd><a name="Item_003a-Input_002fdefvr_002ffile_005fsearch_005flisp"></a></dd><dt><a name="index-file_005fsearch_005flisp"></a>オプション変数: <strong>file_search_lisp</strong></dt>
<dd><a name="Item_003a-Input_002fdefvr_002ffile_005fsearch_005fdemo"></a></dd><dt><a name="index-file_005fsearch_005fdemo"></a>オプション変数: <strong>file_search_demo</strong></dt>
<dd><a name="Item_003a-Input_002fdefvr_002ffile_005fsearch_005fusage"></a></dd><dt><a name="index-file_005fsearch_005fusage"></a>オプション変数: <strong>file_search_usage</strong></dt>
<dd><a name="Item_003a-Input_002fdefvr_002ffile_005fsearch_005ftests"></a></dd><dt><a name="index-file_005fsearch_005ftests"></a>オプション変数: <strong>file_search_tests</strong></dt>
<dd>
<p>これらの変数は、<code><a href="#load">load</a></code>, <code><a href="maxima_5.html#demo">demo</a></code>や他のいくつかのMaximaの関数が検索する
ディレクトリのリストを指定します。
これらの変数のデフォルト値は、Maxima員ストレーションの様々なディレクトリを名指ししています。
</p>
<p>ユーザーは、
デフォルト値を置き換えるか、ディレクトリを追加することで、
これらの変数を変更できます
例えば、
</p>
<div class="example">
<pre class="example">file_search_maxima: [&quot;/usr/local/foo/###.mac&quot;,
    &quot;/usr/local/bar/###.mac&quot;]$
</pre></div>

<p>は、<code>file_search_maxima</code>のデフォルト値を置き換える一方、
</p>
<div class="example">
<pre class="example">file_search_maxima: append (file_search_maxima,
    [&quot;/usr/local/foo/###.mac&quot;, &quot;/usr/local/bar/###.mac&quot;])$
</pre></div>

<p>は、２つのディレクトリを追加します。
ファイル<code>maxima-init.mac</code>に
Maximaが起動した時にファイル検索パスが自動的に割り当てられるような式を入れておくと便利かもしれません。
<a href="maxima_138.html#Introduction-for-Runtime-Environment">Introduction for Runtime Environment</a>も参照してください。
</p>
<p>特別な「ワイルドカード」構造によって、ファイル名の拡張子やパスを多重にしてすることができます。
文字列<code>###</code>は、求められている名前に拡張される一方、
カーリ括弧<code>{foo,bar,baz}</code>で囲まれた、コンマで分離されたリストは多重文字列に拡張されます。
例えば、求められてる名前が<code>neumann</code>とすると、
</p>
<div class="example">
<pre class="example">&quot;/home/{wfs,gcj}/###.{lisp,mac}&quot;
</pre></div>

<p align="left">は、<code>/home/wfs/neumann.lisp</code>, <code>/home/gcj/neumann.lisp</code>,
<code>/home/wfs/neumann.mac</code>, <code>/home/gcj/neumann.mac</code>に展開されます。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-File-input">File input</a>
&middot;<a href="maxima_311.html#Category_003a-Global-variables">Global variables</a>
&middot;</div></dd></dl>

<a name="file_005ftype"></a><a name="Item_003a-Input_002fdeffn_002ffile_005ftype"></a><dl>
<dt><a name="index-file_005ftype"></a>関数: <strong>file_type</strong> <em>(<var>filename</var>)</em></dt>
<dd>
<p><var>filename</var>の中身について、ファイル名拡張子を下に、推測を返します。
<var>filename</var>は、実際のファイルを参照する必要はありません;
ファイルを開いたり、中身を探索したりはしません。
</p>
<p>戻り値はシンボルであり、<code>object</code>, <code>lisp</code>, <code>maxima</code>のいずれかです。
もし拡張子が<code>file_type_maxima</code>の中の値の1つと一致したら、
<code>file_type</code>は<code>maxima</code>を返します。
もし拡張子が&quot;<code>file_type_lisp</code>の中の値の1つと一致したら、
<code>file_type</code>は<code>lisp</code>を返します。
上のいずれでもないなら、<code>file_type</code>は<code>object</code>を返します。
</p>
<p><code><a href="#pathname_005ftype">pathname_type</a></code>も参照してください。
</p>
<p>デフォルト値に関しては、<code><a href="#file_005ftype_005fmaxima">file_type_maxima</a></code>と<code><a href="#file_005ftype_005flisp">file_type_lisp</a></code>を
参照してください。
</p>
<p>例:
</p>
<div class="example">
<pre class="example">(%i2) map('file_type,
          [&quot;test.lisp&quot;, &quot;test.mac&quot;, &quot;test.dem&quot;, &quot;test.txt&quot;]);
(%o2)            [lisp, maxima, maxima, object]
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-File-input">File input</a>
&middot;</div></dd></dl>

<a name="file_005ftype_005flisp"></a><a name="Item_003a-Input_002fdefvr_002ffile_005ftype_005flisp"></a><dl>
<dt><a name="index-file_005ftype_005flisp"></a>オプション変数: <strong>file_type_lisp</strong></dt>
<dd><p>デフォルト値:  <code>[l, lsp, lisp]</code>
</p>
<p><code>file_type_lisp</code>は、
maximaがLispソースファイルの印として認識するファイル拡張子のリストです。
</p>
<p><code><a href="#file_005ftype">file_type</a></code>も参照してください。
</p></dd></dl>

<a name="file_005ftype_005fmaxima"></a><a name="Item_003a-Input_002fdefvr_002ffile_005ftype_005fmaxima"></a><dl>
<dt><a name="index-file_005ftype_005fmaxima"></a>オプション変数: <strong>file_type_maxima</strong></dt>
<dd><p>デフォルト値:  <code>[mac, mc, demo, dem, dm1, dm2, dm3, dmt]</code>
</p>
<p><code>file_type_maxima</code>は、
maximaがMaximaソースファイルの印として認識するファイル拡張子のリストです。
</p>
<p><code><a href="#file_005ftype">file_type</a></code>も参照してください。
</p></dd></dl>

<a name="load"></a><a name="Item_003a-Input_002fdeffn_002fload"></a><dl>
<dt><a name="index-load"></a>関数: <strong>load</strong> <em>(<var>filename</var>)</em></dt>
<dd>
<p><var>filename</var>の中の式を評価します。
そして、変数、関数、他のオブジェクトをMaximaにもたらします。
、<var>filename</var>から再生されたバインドは存在するオブジェクトのバインドを上書きします(clobber)。
ファイルを見つけるために、
<code>load</code>は、探索ディレクトリとして<code>file_search_maxima</code>と<code>file_search_lisp</code>を引数として<code>file_search</code>をコールします。
もし<code>load</code>が成功したら
ファイルの名前を返します。
そうでなければ、<code>load</code>はエラーメッセージを出力します。
</p>
<p><code>load</code>は、LispコードでもMaximaコードでも等しく機能します。
<code><a href="#save">save</a></code>, <code><a href="maxima_155.html#translate_005ffile">translate_file</a></code>, <code><a href="maxima_155.html#compile_005ffile">compile_file</a></code>―これらはLispコードを生成します―が生成したファイルはすべて<code>load</code>によって処理できます。
<code>load</code>は、Lispファイルをロードするために<code>loadfile</code>をコールし、
Maximaファイルをロードするために<code><a href="#batchload">batchload</a></code>をコールします。
</p>
<p><code>load</code>は、Maximaファイルの中で<code>:lisp</code>構成子を認識しません。
<var>filename</var>を処理する時、
グローバル変数<code>_</code>, <code>__</code>, <code>%</code>, <code>%th</code>は、
<code>load</code>がコールされた時バインドされていた値を持ちます。
</p>
<p><code><a href="#loadfile">loadfile</a></code>, <code><a href="#batch">batch</a></code>, <code><a href="#batchload">batchload</a></code>, <code><a href="maxima_5.html#demo">demo</a></code>も参照してください。
<code>loadfile</code>はLispファイルを処理します;
<code>batch</code>, <code>batchload</code>, <code>demo</code>はMaximaファイルを処理します。
</p>
<p>ファイル探索メカニズムについてもっと詳しいことは<code><a href="#file_005fsearch">file_search</a></code>を参照してください。
</p>
<p><code>load</code>は引数を評価します。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-Session-management">Session management</a>
&middot;<a href="maxima_311.html#Category_003a-File-input">File input</a>
&middot;</div></dd></dl>

<a name="load_005fpathname"></a><a name="Item_003a-Input_002fdefvr_002fload_005fpathname"></a><dl>
<dt><a name="index-load_005fpathname"></a>システム変数: <strong>load_pathname</strong></dt>
<dd><p>デフォルト値: <code>false</code>
</p>
<p>関数<code><a href="#load">load</a></code>や、<code><a href="#loadfile">loadfile</a></code>、<code><a href="#batchload">batchload</a></code>を使ってファイルがロードされる時、
システム変数<code>load_pathname</code>は処理するファイルのパス名を示します。
</p>
<p>変数<code>load_pathname</code>はロード中にファイルからアクセスすることができます。
</p>
<p>例:
</p>
<p>ディレクトリ
</p><p align="left"><code>&quot;/home/dieter/workspace/mymaxima/temp/&quot;</code>に、以下のコマンドを含む
</p><p>バッチファイル<code>test.mac</code>があるとしましょう。
</p>
<div class="example">
<pre class="example">print(&quot;The value of load_pathname is: &quot;, load_pathname)$
print(&quot;End of batchfile&quot;)$
</pre></div>

<p>すると、以下の出力を得ます。
</p>
<div class="example">
<pre class="example">(%i1) load(&quot;/home/dieter/workspace/mymaxima/temp/test.mac&quot;)$
The value of load_pathname is:  
                   /home/dieter/workspace/mymaxima/temp/test.mac 
End of batchfile
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-File-input">File input</a>
&middot;</div></dd></dl>


<a name="loadfile"></a><a name="Item_003a-Input_002fdeffn_002floadfile"></a><dl>
<dt><a name="index-loadfile"></a>関数: <strong>loadfile</strong> <em>(<var>filename</var>)</em></dt>
<dd>
<p><var>filename</var>の中のLisp式を評価します。
<code>loadfile</code>は、<code>file_search</code>を呼び出しません。
だから、<code>filename</code>はファイル拡張子とファイルを見つけるのに必要なパスも含まなければいけません。
</p>
<p><code>loadfile</code>は、<code><a href="#save">save</a></code>, <code><a href="maxima_155.html#translate_005ffile">translate_file</a></code>, <code><a href="maxima_155.html#compile_005ffile">compile_file</a></code>によって生成されたファイルを処理できます。
ユーザーは、<code>loadfile</code>の代わりに<code><a href="#load">load</a></code>を使うほうが便利だと気づくでしょう。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-Session-management">Session management</a>
&middot;<a href="maxima_311.html#Category_003a-File-input">File input</a>
&middot;</div></dd></dl>


<a name="loadprint"></a><a name="Item_003a-Input_002fdefvr_002floadprint"></a><dl>
<dt><a name="index-loadprint"></a>オプション変数: <strong>loadprint</strong></dt>
<dd><p>デフォルト値: <code>true</code>
</p>
<p><code>loadprint</code>は、ファイルがロードされた時、メッセージを表示するかどうか告げます。
</p>
<ul>
<li> <code>loadprint</code>が<code>true</code>の時, いつもメッセージを表示します。
</li><li> <code>loadprint</code>が<code>'loadfile</code>の時, ファイルが関数<code>loadfile</code>によってロードされた時だけメッセージを表示します。
</li><li> <code>loadprint</code>が<code>'autoload</code>の時、
ファイルが自動的にロードされた時だけメッセージを表示します。
<code><a href="maxima_144.html#setup_005fautoload">setup_autoload</a></code>を参照してください。
</li><li> <code>loadprint</code>が<code>false</code>の時, メッセージは決して表示されません。
</li></ul>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-File-input">File input</a>
&middot;<a href="maxima_311.html#Category_003a-Global-flags">Global flags</a>
&middot;</div></dd></dl>


<a name="packagefile"></a><a name="Item_003a-Input_002fdefvr_002fpackagefile"></a><dl>
<dt><a name="index-packagefile"></a>オプション変数: <strong>packagefile</strong></dt>
<dd><p>デフォルト値: <code>false</code>
</p>
<p>他の人が使うパッケージ（ファイル）を生成するために<code><a href="#save">save</a></code>や<code><a href="maxima_155.html#translate">translate</a></code>を使う
パッケージデザイナは、
ファイルがロードされる時必要な場合を除いて、
Maximaの情報リスト（例えば、<code><a href="maxima_8.html#values">values</a></code>, <code><a href="maxima_155.html#functions">functions</a></code>）に情報が追加されることを抑制するために、<code>packagefile: true</code>を設定したいかもしれません。
この方法によれば、
ユーザーが自身のデータを追加した時ユーザーの方法では
パッケージの中身は、得られないでしょう。
これは、起こりうる名前衝突の問題を解決はしないことに注意してください。
このフラグは、パッケージファイルへの出力であるものに素直に影響することにも注意してください。
フラグを<code>true</code>に設定することは、
Maxima初期化ファイルを生成するにも役に立ちます。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-Translation-flags-and-variables">Translation flags and variables</a>
&middot;</div></dd></dl>

<a name="pathname_005fdirectory"></a><a name="pathname_005fname"></a><a name="pathname_005ftype"></a><a name="Item_003a-Input_002fdeffn_002fpathname_005fdirectory"></a><dl>
<dt><a name="index-pathname_005fdirectory"></a>関数: <strong>pathname_directory</strong> <em>(<var>pathname</var>)</em></dt>
<dd><a name="Item_003a-Input_002fdeffn_002fpathname_005fname"></a></dd><dt><a name="index-pathname_005fname"></a>関数: <strong>pathname_name</strong> <em>(<var>pathname</var>)</em></dt>
<dd><a name="Item_003a-Input_002fdeffn_002fpathname_005ftype"></a></dd><dt><a name="index-pathname_005ftype"></a>関数: <strong>pathname_type</strong> <em>(<var>pathname</var>)</em></dt>
<dd>
<p>これらの関数は<var>pathname</var>の構成要素を返します。
</p>
<p>例:
</p>
<div class="example">
<pre class="example">(%i1) pathname_directory(&quot;/home/dieter/maxima/changelog.txt&quot;);
(%o1)                 /home/dieter/maxima/
(%i2) pathname_name(&quot;/home/dieter/maxima/changelog.txt&quot;);
(%o2)                       changelog
(%i3) pathname_type(&quot;/home/dieter/maxima/changelog.txt&quot;);
(%o3)                          txt
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-File-input">File input</a>
&middot;</div></dd></dl>

<a name="printfile"></a><a name="Item_003a-Input_002fdeffn_002fprintfile"></a><dl>
<dt><a name="index-printfile"></a>関数: <strong>printfile</strong> <em>(<var>path</var>)</em></dt>
<dd>
<p><var>path</var>という名前のファイルをコンソールに表示します。
<var>path</var>は、文字列もしくはシンボルです;
もしシンボルなら、文字列に変換されます。
</p>
<p>もし<var>path</var>が現在のワーキングディレクトリからアクセス可能なファイル名なら、
そのファイルがコンソールに表示されます。
そうでなければ、
<code>printfile</code>は、
<code><a href="#filename_005fmerge">filename_merge</a></code>を介して<code><a href="#file_005fsearch_005fusage">file_search_usage</a></code>の要素のそれぞれに
<var>path</var>を追加することでファイルを見つけようとします。
</p>
<p><code>printfile</code>は、もし<var>path</var>が存在しているファイルを示しているなら、
<var>path</var>を返し、そうでなければ、
成功したファイル名マージの結果を返します。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-File-input">File input</a>
&middot;<a href="maxima_311.html#Category_003a-Console-interaction">Console interaction</a>
&middot;</div></dd></dl>


<a name="tcl_005foutput"></a><a name="Item_003a-Input_002fdeffn_002ftcl_005foutput"></a><dl>
<dt><a name="index-tcl_005foutput"></a>関数: <strong>tcl_output</strong> <em>(<var>list</var>, <var>i0</var>, <var>skip</var>)</em></dt>
<dt><a name="index-tcl_005foutput-1"></a>関数: <strong>tcl_output</strong> <em>(<var>list</var>, <var>i0</var>)</em></dt>
<dt><a name="index-tcl_005foutput-2"></a>関数: <strong>tcl_output</strong> <em>([<var>list_1</var>, &hellip;, <var>list_n</var>], <var>i</var>)</em></dt>
<dd>
<p>リストの要素を、
カーリ括弧<code>{ }</code>で囲んで表示します。
Tcl/Tk言語でプログラムの一部として適した形です。
</p>
<p><code>tcl_output (<var>list</var>, <var>i0</var>, <var>skip</var>)</code>
は、
要素<var>i0</var>で始まり、要素<code><var>i0</var> + <var>skip</var></code>, <code><var>i0</var> + 2 <var>skip</var></code>, などを表示するよう、<var>list</var>を表示します。
</p>
<p><code>tcl_output (<var>list</var>, <var>i0</var>)</code>は、
<code>tcl_output (<var>list</var>, <var>i0</var>, 2)</code>と同値です。
</p>
<p><code>tcl_output ([<var>list_1</var>, ..., <var>list_n</var>], <var>i</var>)</code>は、
<var>list_1</var>, &hellip;, <var>list_n</var>の<var>i</var>番目の要素を表示します。
</p>
<p>例:
</p>
<div class="example">
<pre class="example">(%i1) tcl_output ([1, 2, 3, 4, 5, 6], 1, 3)$

 {1.000000000     4.000000000     
 }
(%i2) tcl_output ([1, 2, 3, 4, 5, 6], 2, 3)$

 {2.000000000     5.000000000     
 }
(%i3) tcl_output ([3/7, 5/9, 11/13, 13/17], 1)$

 {((RAT SIMP) 3 7) ((RAT SIMP) 11 13) 
 }
(%i4) tcl_output ([x1, y1, x2, y2, x3, y3], 2)$

 {$Y1 $Y2 $Y3 
 }
(%i5) tcl_output ([[1, 2, 3], [11, 22, 33]], 1)$

 {SIMP 1.000000000     11.00000000     
 }
</pre></div>
</dd></dl>

<a name="save"></a><a name="Item_003a-Input_002fdeffn_002fsave"></a><dl>
<dt><a name="index-save"></a>関数: <strong>save</strong> <em>(<var>filename</var>, <var>name_1</var>, <var>name_2</var>, <var>name_3</var>, &hellip;)</em></dt>
<dt><a name="index-save-1"></a>関数: <strong>save</strong> <em>(<var>filename</var>, values, functions, labels, &hellip;)</em></dt>
<dt><a name="index-save-2"></a>関数: <strong>save</strong> <em>(<var>filename</var>, [<var>m</var>, <var>n</var>])</em></dt>
<dt><a name="index-save-3"></a>関数: <strong>save</strong> <em>(<var>filename</var>, <var>name_1</var>=<var>expr_1</var>, &hellip;)</em></dt>
<dt><a name="index-save-4"></a>関数: <strong>save</strong> <em>(<var>filename</var>, all)</em></dt>
<dt><a name="index-save-5"></a>関数: <strong>save</strong> <em>(<var>filename</var>, <var>name_1</var>=<var>expr_1</var>, <var>name_2</var>=<var>expr_2</var>, &hellip;)</em></dt>
<dd>
<p><var>filename</var>に、<var>name_1</var>, <var>name_2</var>, <var>name_3</var>, &hellip;,の現在値を
保存します。
引数は、変数、関数、他のオブジェクトの名前です。
もし名前が関連づけられた値や関数を持たないなら、無視されます。
<code>save</code>は、<var>filename</var>を返します。
</p>
<p><code>save</code>は、データをLisp式の形式で保存します。
<code>save</code>で保存されたデータは、<code>load (<var>filename</var>)</code>によって回復できます。
<code><a href="#load">load</a></code>を参照してください。
</p>
<p>グローバルフラグ <code><a href="#file_005foutput_005fappend">file_output_append</a></code>は、
<code>save</code>が出力ファイルに追加するか、切り詰めるか決めます。
<code>file_output_append</code>が<code>true</code>の時、
<code>save</code>は出力ファイルに追加します。
そうでなければ、<code>save</code>は出力ファイルを切り詰めます。
どちらの場合も、もしファイルが存在しなければ、<code>save</code>はファイルを生成します。
</p>
<p>特殊形式<code>save (<var>filename</var>, values, functions, labels, ...)</code>
は、<code><a href="maxima_8.html#values">values</a></code>, <code><a href="maxima_155.html#functions">functions</a></code>, <code><a href="maxima_8.html#labels">labels</a></code>, などと名付けられた項目を
保存します。
名前は、変数<code><a href="maxima_8.html#infolists">infolists</a></code>によって指定された任意のものです。
<code><a href="maxima_8.html#values">values</a></code>は、ユーザー定義変数すべてから成ります。
</p>
<p>特殊形式<code>save (<var>filename</var>, [<var>m</var>, <var>n</var>])</code>は、
<var>m</var>から<var>n</var>までの入力ラベル、出力ラベルの値を保存します。
<var>m</var>と<var>n</var>は、整数リテラルでなければならないことに注意してください。
例えば、<code>save (&quot;foo.1&quot;, %i42, %o42)</code>のように、
入力ラベル、出力ラベルは１つ１つ保存することもできます。
<code>save (<var>filename</var>, labels)</code>は、
入力ラベル出力ラベルすべてを保存します。
保存されたラベルが回復された時、それらは存在していたラベルを負かします。
</p>
<p>特殊形式<code>save (<var>filename</var>, <var>name_1</var>=<var>expr_1</var>, <var>name_2</var>=<var>expr_2</var>, ...)</code>は、
<var>expr_1</var>, <var>expr_2</var>, &hellip;,の値を<var>name_1</var>, <var>name_2</var>, &hellip;という名前で保存します。
例えば、<code>save (&quot;foo.1&quot;, aa=%o88)</code>のように、
この形式を入力ラベル出力ラベルに適用することは便利です。
この形式の等式の右辺は任意の式であり、その式は評価されます。
この形式は、新しい名前を現在のMaximaの環境に導入はせず、
ただ、<var>filename</var>にそれらを保存します。
</p>
<p>これらの特殊形式と<code>save</code>の一般形式は自由に混在させることができます。
例えば、<code>save (<var>filename</var>, aa, bb, cc=42, functions, [11, 17])</code>。
</p>
<p>特殊形式<code>save (<var>filename</var>, all)</code>は、Maximaの現在の状態を保存します。
これは、自動的に定義された項目はもちろん、ユーザー定義の変数、関数、配列などすべてを
含みます。
保存される項目は、
もしそれらがユーザーによって新しい値を割り当てられたなら、
<code><a href="#file_005fsearch_005fmaxima">file_search_maxima</a></code>や<code><a href="maxima_8.html#showtime">showtime</a></code>のようなシステム変数を含みます。
<code><a href="maxima_8.html#myoptions">myoptions</a></code>を参照してください。
</p>
<p><code>save</code>は<var>filename</var>を評価し、他の引数すべてをクォートします。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-Session-management">Session management</a>
&middot;<a href="maxima_311.html#Category_003a-File-output">File output</a>
&middot;</div></dd></dl>

<a name="stringout"></a><a name="Item_003a-Input_002fdeffn_002fstringout"></a><dl>
<dt><a name="index-stringout"></a>関数: <strong>stringout</strong> <em>(<var>filename</var>, <var>expr_1</var>, <var>expr_2</var>, <var>expr_3</var>, &hellip;)</em></dt>
<dt><a name="index-stringout-1"></a>関数: <strong>stringout</strong> <em>(<var>filename</var>, [<var>m</var>, <var>n</var>])</em></dt>
<dt><a name="index-stringout-2"></a>関数: <strong>stringout</strong> <em>(<var>filename</var>, input)</em></dt>
<dt><a name="index-stringout-3"></a>関数: <strong>stringout</strong> <em>(<var>filename</var>, functions)</em></dt>
<dt><a name="index-stringout-4"></a>関数: <strong>stringout</strong> <em>(<var>filename</var>, values)</em></dt>
<dd>
<p><code>stringout</code>は、
式が入力としてタイプされたのと同じ形式で、式をファイルに書き込みます。
なので、ファイルは<code><a href="#batch">batch</a></code>や<code><a href="maxima_5.html#demo">demo</a></code>コマンドの入力として使えますし、
どんな目的のためでも編集できます。
<code>stringout</code>は、<code><a href="#writefile">writefile</a></code>が進行中の間に実行することができます。
</p>
<p>グローバルフラグ<code><a href="#file_005foutput_005fappend">file_output_append</a></code>は、
<code>stringout</code>が出力ファイルに追加するか、切り詰めるか決めます。
<code>file_output_append</code>が<code>true</code>の時、
<code>stringout</code>は、出力ファイルに追加します。
そうでなければ、<code>stringout</code>は出力ファイルを切り詰めます。
どちらの場合も、もしファイルが存在しなければ，<code>stringout</code>はファイルを生成します。
</p>
<p><code>stringout</code>の一般形式は、１つ以上の式の値を出力ファイルに書き込みます。
もし式が変数なら、変数の値だけが書き込まれ、変数名は書き込まれないことに注意してください。
役に立つ特殊な場合として、式は、
入力ラベル(<code>%i1</code>, <code>%i2</code>, <code>%i3</code>, &hellip;)もしくは出力ラベル(<code>%o1</code>, <code>%o2</code>, <code>%o3</code>, &hellip;)でもよいです。
）
</p>
<p>もし<code><a href="maxima_9.html#grind">grind</a></code>が<code>true</code>なら、
<code>stringout</code>は、<code>grind</code>フォーマットを使って出力をフォーマットします。
そうでなければ、<code>string</code>フォーマットが使われます。
<code>grind</code>と<code>string</code>を参照してください。
</p>
<p>特殊形式<code>stringout (<var>filename</var>, [<var>m</var>, <var>n</var>])</code>は、
mからnまでの入力ラベルの値を書き込みます。
</p>
<p>特殊形式 <code>stringout (<var>filename</var>, input)</code>は、
入力ラベルすべてをファイルに書き込みます。
</p>
<p>特殊形式<code>stringout (<var>filename</var>, functions)</code>は、
（グローバルリスト<code><a href="maxima_155.html#functions">functions</a></code>で名付けられた）ユーザー定義関数すべてをファイルに書き込みます。
</p>
<p>特殊形式<code>stringout (<var>filename</var>, values)</code>は、
（グローバルリスト<code><a href="maxima_8.html#values">values</a></code>で名付けられた）ユーザーが割り当てた変数すべてをファイルに書き込みます。
変数それぞれは、変数名とコロンとその値という割り当て文として出力されます。
<code>stringout</code>の一般形式は変数を割り当て文として出力しないことに注意してください。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-Session-management">Session management</a>
&middot;<a href="maxima_311.html#Category_003a-File-output">File output</a>
&middot;</div></dd></dl>

<a name="tex"></a><a name="Item_003a-Input_002fdeffn_002ftex"></a><dl>
<dt><a name="index-tex"></a>関数: <strong>tex</strong> <em>(<var>expr</var>)</em></dt>
<dt><a name="index-tex-1"></a>関数: <strong>tex</strong> <em>(<var>expr</var>, <var>destination</var>)</em></dt>
<dt><a name="index-tex-2"></a>関数: <strong>tex</strong> <em>(<var>expr</var>, false)</em></dt>
<dt><a name="index-tex-3"></a>関数: <strong>tex</strong> <em>(<var>label</var>)</em></dt>
<dt><a name="index-tex-4"></a>関数: <strong>tex</strong> <em>(<var>label</var>, <var>destination</var>)</em></dt>
<dt><a name="index-tex-5"></a>関数: <strong>tex</strong> <em>(<var>label</var>, false)</em></dt>
<dd>
<p>TeXドキュメントの準備に適した式の表現を出力します。
結果は、ドキュメントの断片です。
それは、より大きなドキュメントにコピーすることができますが、それ自身では処理されません。
</p>
<p><code>tex (<var>expr</var>)</code>は、<var>expr</var>のTeX表現をコンソールに出力します。
</p>
<p><code>tex (<var>label</var>)</code>は、<var>label</var>で名付けられた式のTeX表現を出力し、
（式の左に表示されるよう）等式ラベルをそれに割り当てます。
TeX等式ラベルは、Maximaラベルと同じです。
</p>
<p><var>destination</var>は、出力ストリームもしくはファイル名です。
<var>destination</var>がファイル名の時、
<code>tex</code>は、ファイルに出力を追加します。
関数<code>openw</code>と<code>opena</code>は、出力ストリームを生成します。
</p>
<p><code>tex (<var>expr</var>, false)</code>と<code>tex (<var>label</var>, false)</code>は、
TeX出力を文字列として返します。
</p>
<p><code>tex</code>は、最初の引数がラベルかどうか見るためにテストした後、最初の引数を評価します。
クォートクォート<code>''</code>は、引数の評価を強制し、
その結果、テストをだめにして、ラベルを妨げます。
</p>
<p><code><a href="#texput">texput</a></code>も参照してください。
</p>
<p>例:
</p>
<div class="example">
<pre class="example">(%i1) integrate (1/(1+x^3), x);
                                    2 x - 1
                  2            atan(-------)
             log(x  - x + 1)        sqrt(3)    log(x + 1)
(%o1)      - --------------- + ------------- + ----------
                    6             sqrt(3)          3
(%i2) tex (%o1);
$$-{{\log \left(x^2-x+1\right)}\over{6}}+{{\arctan \left({{2\,x-1
 }\over{\sqrt{3}}}\right)}\over{\sqrt{3}}}+{{\log \left(x+1\right)
 }\over{3}}\leqno{\tt (\%o1)}$$
(%o2)                          (\%o1)
(%i3) tex (integrate (sin(x), x));
$$-\cos x$$
(%o3)                           false
(%i4) tex (%o1, &quot;foo.tex&quot;);
(%o4)                          (\%o1)
</pre></div>

<p><code>tex (<var>expr</var>, false)</code>はTeX出力を文字列として返します。
</p>
<div class="example">
<pre class="example">(%i1) S : tex (x * y * z, false);
(%o1) $$x\,y\,z$$
(%i2) S;
(%o2) $$x\,y\,z$$
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-TeX-output">TeX output</a>
&middot;<a href="maxima_311.html#Category_003a-File-output">File output</a>
&middot;</div>
</dd></dl>

<a name="tex1"></a><a name="Item_003a-Input_002fdeffn_002ftex1"></a><dl>
<dt><a name="index-tex1"></a>関数: <strong>tex1</strong> <em>(<var>e</var>)</em></dt>
<dd>
<p>式<var>e</var>のTeX出力を表現する文字列を返します。
TeX出力は、等式や他の任意の環境のため、区切り記号で囲まれません。
</p>
<p>例:
</p>
<div class="example">
<pre class="example">(%i1) tex1 (sin(x) + cos(x));
(%o1)                     \sin x+\cos x
</pre></div>
</dd></dl>

<a name="texput"></a><a name="Item_003a-Input_002fdeffn_002ftexput"></a><dl>
<dt><a name="index-texput"></a>関数: <strong>texput</strong> <em>(<var>a</var>, <var>s</var>)</em></dt>
<dt><a name="index-texput-1"></a>関数: <strong>texput</strong> <em>(<var>a</var>, <var>f</var>)</em></dt>
<dt><a name="index-texput-2"></a>関数: <strong>texput</strong> <em>(<var>a</var>, <var>s</var>, <var>operator_type</var>)</em></dt>
<dt><a name="index-texput-3"></a>関数: <strong>texput</strong> <em>(<var>a</var>, [<var>s_1</var>, <var>s_2</var>], matchfix)</em></dt>
<dt><a name="index-texput-4"></a>関数: <strong>texput</strong> <em>(<var>a</var>, [<var>s_1</var>, <var>s_2</var>, <var>s_3</var>], matchfix)</em></dt>
<dd>
<p>アトム<var>a</var>のためのTeX出力を割り当てます。
ここで<var>a</var>はシンボルもしくは演算子名です。
</p>
<p><code>texput (<var>a</var>, <var>s</var>)</code>は、
<code>tex</code>関数に、
<var>a</var>の代わりに文字列<var>s</var>をTeX出力に入れるようにさせます。
</p>
<p><code>texput (<var>a</var>, <var>f</var>)</code>は、
<code>tex</code>関数に、
TeX出力を生成するために関数<var>f</var>をコールさせます。
<var>f</var>は、１つの引数を受け入れなければいけません。
ここで、引数は、演算子<var>a</var>を持つ式で、文字列（TeX出力）を返さなければいけません。
<var>f</var>は、入力式の引数のためにTeX出力を生成するよう、<code>tex1</code>をコールするかもしれません。
</p>
<p><var>operator_type</var>が<code>prefix</code>, <code>infix</code>, <code>postfix</code>, <code>nary</code>, もしくは <code>nofix</code>,として、
<code>texput (<var>a</var>, <var>s</var>, <var>operator_type</var>)</code>は、
<code>tex</code>関数に
<var>a</var>の代わりに<var>s</var>をTeX出力に入れるようにさせ、
適切な位置に挿入された手キスを置くようにさせます。
</p>
<p><code>texput (<var>a</var>, [<var>s_1</var>, <var>s_2</var>], matchfix)</code>は、
<code>tex</code>関数に、
<var>a</var>の引数のそれぞれの側に<var>s_1</var>と<var>s_2</var>を
TeX出力に入れるようにさせます。
（もし複数なら）引数はコンマで分離されます。
</p>
<p><code>texput (<var>a</var>, [<var>s_1</var>, <var>s_2</var>, <var>s_3</var>], matchfix)</code>は、
<code>tex</code>関数に、
引数を分離する<var>s_3</var>と一緒に
<var>a</var>の引数のそれぞれの側に<var>s_1</var>と<var>s_2</var>をTeX出力に入れるようにさせます。
</p>
<p>例:
</p>
<p>変数にTeX出力を割り当てます。
</p>
<div class="example">
<pre class="example">(%i1) texput (me,&quot;\\mu_e&quot;);
(%o1)                         \mu_e
(%i2) tex (me);
$$\mu_e$$
(%o2)                         false
</pre></div>

<p>任意の関数（演算子ではない）にTeX出力を割り当てます。
</p>
<div class="example">
<pre class="example">(%i1) texput (lcm, &quot;\\mathrm{lcm}&quot;);
(%o1)                     \mathrm{lcm}
(%i2) tex (lcm (a, b));
$$\mathrm{lcm}\left(a , b\right)$$
(%o2)                         false
</pre></div>

<p>TeX出力を生成する関数をコールします。
</p>
<div class="example">
<pre class="example">(%i1) texfoo (e) := block ([a, b], [a, b] : args (e),
  concat (&quot;\\left[\\stackrel{&quot;,tex1(b),&quot;}{&quot;,tex1(a),&quot;}\\right]&quot;))$
(%i2) texput (foo, texfoo);
(%o2)                        texfoo
(%i3) tex (foo (2^x, %pi));
$$\left[\stackrel{\pi}{2^{x}}\right]$$
(%o3)                         false
</pre></div>

<p>前置演算子にTeX出力を割り当てます。
</p>
<div class="example">
<pre class="example">(%i1) prefix (&quot;grad&quot;);
(%o1)                         grad
(%i2) texput (&quot;grad&quot;, &quot; \\nabla &quot;, prefix);
(%o2)                        \nabla 
(%i3) tex (grad f);
$$ \nabla f$$
(%o3)                         false
</pre></div>

<p>中置演算子にTeX出力を割り当てます。
</p>
<div class="example">
<pre class="example">(%i1) infix (&quot;~&quot;);
(%o1)                           ~
(%i2) texput (&quot;~&quot;, &quot; \\times &quot;, infix);
(%o2)                        \times 
(%i3) tex (a ~ b);
$$a \times b$$
(%o3)                         false
</pre></div>

<p>後置演算子にTeX出力を割り当てます。
</p>
<div class="example">
<pre class="example">(%i1) postfix (&quot;##&quot;);
(%o1)                          ##
(%i2) texput (&quot;##&quot;, &quot;!!&quot;, postfix);
(%o2)                          !!
(%i3) tex (x ##);
$$x!!$$
(%o3)                         false
</pre></div>

<p>n項演算子にTeX出力を割り当てます。
</p>
<div class="example">
<pre class="example">(%i1) nary (&quot;@@&quot;);
(%o1)                          @@
(%i2) texput (&quot;@@&quot;, &quot; \\circ &quot;, nary);
(%o2)                         \circ 
(%i3) tex (a @@ b @@ c @@ d);
$$a \circ b \circ c \circ d$$
(%o3)                         false
</pre></div>

<p>無項演算子にTeX出力を割り当てます。
</p>
<div class="example">
<pre class="example">(%i1) nofix (&quot;foo&quot;);
(%o1)                          foo
(%i2) texput (&quot;foo&quot;, &quot;\\mathsc{foo}&quot;, nofix);
(%o2)                     \mathsc{foo}
(%i3) tex (foo);
$$\mathsc{foo}$$
(%o3)                         false
</pre></div>

<p>マッチフィックス演算子にTeX出力を割り当てます。
</p>
<div class="example">
<pre class="example">(%i1) matchfix (&quot;&lt;&lt;&quot;, &quot;&gt;&gt;&quot;);
(%o1)                          &lt;&lt;
(%i2) texput (&quot;&lt;&lt;&quot;, [&quot; \\langle &quot;, &quot; \\rangle &quot;], matchfix);
(%o2)                [ \langle ,  \rangle ]
(%i3) tex (&lt;&lt;a&gt;&gt;);
$$ \langle a \rangle $$
(%o3)                         false
(%i4) tex (&lt;&lt;a, b&gt;&gt;);
$$ \langle a , b \rangle $$
(%o4)                         false
(%i5) texput (&quot;&lt;&lt;&quot;, [&quot; \\langle &quot;, &quot; \\rangle &quot;, &quot; \\, | \\,&quot;],
      matchfix);
(%o5)           [ \langle ,  \rangle ,  \, | \,]
(%i6) tex (&lt;&lt;a&gt;&gt;);
$$ \langle a \rangle $$
(%o6)                         false
(%i7) tex (&lt;&lt;a, b&gt;&gt;);
$$ \langle a \, | \,b \rangle $$
(%o7)                         false
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-TeX-output">TeX output</a>
&middot;</div></dd></dl>

<a name="get_005ftex_005fenvironment"></a><a name="Item_003a-Input_002fdeffn_002fget_005ftex_005fenvironment"></a><dl>
<dt><a name="index-get_005ftex_005fenvironment"></a>関数: <strong>get_tex_environment</strong> <em>(<var>op</var>)</em></dt>
<dd><a name="Item_003a-Input_002fdeffn_002fset_005ftex_005fenvironment"></a></dd><dt><a name="index-set_005ftex_005fenvironment"></a>関数: <strong>set_tex_environment</strong> <em>(<var>op</var>, <var>before</var>, <var>after</var>)</em></dt>
<dd>
<p><code>tex</code>によって出力されるTeX環境をカスタマイズします。
これらの関数によって保持されるように、TeX環境は２つの文字列から成ります;
１つは他の任意のTeX出力に前もって出力されるもの、もう１つは後に出力されるものです。
</p>
<p>式のトップレベル演算子のTeX環境だけが、出力されます;
他の演算子に関連づけられたTeX環境は無視されます。
</p>
<p><code>get_tex_environment</code>は、
演算子<var>op</var>に適用されたTeX環境を返します;
もし他の環境が割り当てられていなければ、デフォルトを返します。
</p>
<p><code>set_tex_environment</code>は、
演算子<var>op</var>のためのTeX環境を割り当てます。
</p>
<p>例:
</p>
<div class="example">
<pre class="example">(%i1) get_tex_environment (&quot;:=&quot;);
(%o1) [
\begin{verbatim}
, ;
\end{verbatim}
]
(%i2) tex (f (x) := 1 - x);

\begin{verbatim}
f(x):=1-x;
\end{verbatim}

(%o2)                         false
(%i3) set_tex_environment (&quot;:=&quot;, &quot;$$&quot;, &quot;$$&quot;);
(%o3)                       [$$, $$]
(%i4) tex (f (x) := 1 - x);
$$f(x):=1-x$$
(%o4)                         false
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-TeX-output">TeX output</a>
&middot;</div></dd></dl>

<a name="get_005ftex_005fenviroment_005fdefault"></a><a name="Item_003a-Input_002fdeffn_002fget_005ftex_005fenvironment_005fdefault"></a><dl>
<dt><a name="index-get_005ftex_005fenvironment_005fdefault"></a>関数: <strong>get_tex_environment_default</strong> <em>()</em></dt>
<dd><a name="Item_003a-Input_002fdeffn_002fset_005ftex_005fenvironment_005fdefault"></a></dd><dt><a name="index-set_005ftex_005fenvironment_005fdefault"></a>関数: <strong>set_tex_environment_default</strong> <em>(<var>before</var>, <var>after</var>)</em></dt>
<dd>
<p><code>tex</code>によって出力されるTeX環境をカスタマイズします。
これらの関数によって保持されるように、TeX環境は２つの文字列から成ります;
１つは他の任意のTeX出力に前もって出力されるもの、もう１つは後に出力されるものです。
</p>
<p><code>get_tex_environment_default</code>は、
トップレベル演算子が（<code>set_tex_environment</code>で割り当てられたような）特定のTeX環境を持たない式に適用されたTeX環境を返します。
</p>
<p><code>set_tex_environment_default</code>は、デフォルトのTeX環境を割り当てます。
</p>
<p>例:
</p>
<div class="example">
<pre class="example">(%i1) get_tex_environment_default ();
(%o1)                       [$$, $$]
(%i2) tex (f(x) + g(x));
$$g\left(x\right)+f\left(x\right)$$
(%o2)                         false
(%i3) set_tex_environment_default (&quot;\\begin{equation}
&quot;, &quot;
\\end{equation}&quot;);
(%o3) [\begin{equation}
, 
\end{equation}]
(%i4) tex (f(x) + g(x));
\begin{equation}
g\left(x\right)+f\left(x\right)
\end{equation}
(%o4)                         false
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-TeX-output">TeX output</a>
&middot;</div></dd></dl>

<a name="with_005fstdout"></a><a name="Item_003a-Input_002fdeffn_002fwith_005fstdout"></a><dl>
<dt><a name="index-with_005fstdout"></a>関数: <strong>with_stdout</strong> <em>(<var>f</var>, <var>expr_1</var>, <var>expr_2</var>, <var>expr_3</var>, &hellip;)</em></dt>
<dt><a name="index-with_005fstdout-1"></a>関数: <strong>with_stdout</strong> <em>(<var>s</var>, <var>expr_1</var>, <var>expr_2</var>, <var>expr_3</var>, &hellip;)</em></dt>
<dd>
<p><var>expr_1</var>, <var>expr_2</var>, <var>expr_3</var>, ...を評価し、
生成された出力すべてをファイル<var>f</var>もしくは出力ストリーム<var>s</var>に書き込みます。
評価される式は出力に書き込まれません。
出力は、<code><a href="maxima_9.html#print">print</a></code>, <code><a href="maxima_9.html#display">display</a></code>, <code><a href="maxima_9.html#grind">grind</a></code>や他の関数によって生成されたものです。
</p>
<p>グローバルフラグ <code><a href="#file_005foutput_005fappend">file_output_append</a></code>は、
<code>with_stdout</code>が出力ファイル<var>f</var>に追加するか切り詰めるか決めます。
<code>file_output_append</code>が<code>true</code>の時、
<code>with_stdout</code>は出力ファイルに追加します。
そうでなければ、<code>with_stdout</code>は出力ファイルを切り詰めます。
どちらの場合も、もしファイルが存在しないなら、<code>with_stdout</code>はファイルを生成します。
</p>
<p><code>with_stdout</code>は最後の引数の値を返します。
</p>
<p><code><a href="#writefile">writefile</a></code>も参照してください。
</p>
<div class="example">
<pre class="example">(%i1) with_stdout (&quot;tmp.out&quot;, for i:5 thru 10 do
      print (i, &quot;! yields&quot;, i!))$
(%i2) printfile (&quot;tmp.out&quot;)$
5 ! yields 120 
6 ! yields 720 
7 ! yields 5040 
8 ! yields 40320 
9 ! yields 362880 
10 ! yields 3628800
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-File-output">File output</a>
&middot;</div></dd></dl>

<a name="writefile"></a><a name="Item_003a-Input_002fdeffn_002fwritefile"></a><dl>
<dt><a name="index-writefile"></a>関数: <strong>writefile</strong> <em>(<var>filename</var>)</em></dt>
<dd>
<p>Maximaセッションのトランスクリプトを<var>filename</var>に書き込むことを開始します。
ユーザーとMaximaの間の対話すべてが、ちょうどコンソールに現れるように、このファイルに記録されます。
</p>
<p>トランスクリプトがコンソール出力フォーマットで出力されるので、
それはMaximaに再ロードすることはできません。
最ロード可能な式を含むファイルを作るには、
<code><a href="#save">save</a></code>と<code><a href="#stringout">stringout</a></code>を参照してください。
<code>save</code>は、Lisp形式の式を保存する一方、<code>stringout</code>は、Maxima形式
の式を保存します。
</p>
<p><var>filename</var>が既に存在している時、<code>writefile</code>の実行の効果は、
基礎となるLisp実装に依存します;
トランスクリプファイルは負かされるかもしれませんし、ファイルは追加されるかもしれません。
<code><a href="#appendfile">appendfile</a></code>は、いつもトランスクリプトファイルに追加します。
</p>
<p>以前の対話の表示を保存するために<code>writefile</code>の後、
<code><a href="maxima_8.html#playback">playback</a></code>を実行するのが便利かもしれません。
<code>playback</code>は入力と出力変数(<code>%i1</code>, <code>%o1</code>, など)だけを表示し、
（戻り値と対照的に）関数の中のプリント文によって生成された任意の出力は<code>playback</code>によって表示されません。
</p>
<p><code><a href="#closefile">closefile</a></code>は、<code>writefile</code>や<code>appendfile</code>が開いたトランスクリプトファイルを閉じます。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-File-output">File output</a>
&middot;<a href="maxima_311.html#Category_003a-Console-interaction">Console interaction</a>
&middot;</div></dd></dl>

<hr>
<div class="header">
<p>
Previous: <a href="maxima_68.html#Files" accesskey="p" rel="previous">Files</a>, Up: <a href="maxima_66.html#File-Input-and-Output" accesskey="u" rel="up">File Input and Output</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="maxima_307.html#Function-and-Variable-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
