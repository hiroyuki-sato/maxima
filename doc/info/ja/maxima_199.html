<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Maxima 5.46.0 Manual: Functions and Variables for worldmap</title>

<meta name="description" content="Maxima 5.46.0 Manual: Functions and Variables for worldmap">
<meta name="keywords" content="Maxima 5.46.0 Manual: Functions and Variables for worldmap">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="maxima_toc.html#Top" rel="start" title="Top">
<link href="maxima_307.html#Function-and-Variable-Index" rel="index" title="Function and Variable Index">
<link href="maxima_toc.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="maxima_195.html#draw" rel="up" title="draw">
<link href="maxima_200.html#drawdf" rel="next" title="drawdf">
<link href="maxima_198.html#Functions-and-Variables-for-pictures" rel="previous" title="Functions and Variables for pictures">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
body {color: black; background: white;  margin-left: 8%; margin-right: 13%;
      font-family: "FreeSans", sans-serif}
h1 {font-size: 150%; font-family: "FreeSans", sans-serif}
h2 {font-size: 125%; font-family: "FreeSans", sans-serif}
h3 {font-size: 100%; font-family: "FreeSans", sans-serif}
a[href] {color: rgb(0,0,255); text-decoration: none;}
a[href]:hover {background: rgb(220,220,220);}
div.textbox {border: solid; border-width: thin; padding-top: 1em;
    padding-bottom: 1em; padding-left: 2em; padding-right: 2em}
div.titlebox {border: none; padding-top: 1em; padding-bottom: 1em;
    padding-left: 2em; padding-right: 2em; background: rgb(200,255,255);
    font-family: sans-serif}
div.synopsisbox {
    border: none; padding-top: 1em; padding-bottom: 1em; padding-left: 2em;
    padding-right: 2em; background: rgb(255,220,255);}
pre.example {border: 1px solid rgb(180,180,180); padding-top: 1em;
    padding-bottom: 1em; padding-left: 1em; padding-right: 1em;
    background-color: rgb(238,238,255)}
div.spacerbox {border: none; padding-top: 2em; padding-bottom: 2em}
div.image {margin: 0; padding: 1em; text-align: center}
div.categorybox {border: 1px solid gray; padding-top: 1em; padding-bottom: 1em;
    padding-left: 1em; padding-right: 1em; background: rgb(247,242,220)}
img {max-width:80%; max-height: 80%; display: block; margin-left: auto; margin-right: auto}

-->
</style>

<link rel="icon" href="figures/favicon.ico">

</head>

<body lang="ja" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Functions-and-Variables-for-worldmap"></a>
<div class="header">
<p>
Previous: <a href="maxima_198.html#Functions-and-Variables-for-pictures" accesskey="p" rel="previous">Functions and Variables for pictures</a>, Up: <a href="maxima_195.html#draw" accesskey="u" rel="up">draw</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="maxima_307.html#Function-and-Variable-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Functions-and-Variables-for-worldmap-1"></a>
<h3 class="section">48.4 Functions and Variables for worldmap</h3>

<p>このパッケージは自動的にパッケージ<code>draw</code>をロードします。
</p>

<a name="Variable-and-Functions"></a>
<h4 class="subsection">48.4.1 Variable and Functions</h4>

<a name="Item_003a-draw_002fdefvr_002fboundaries_005farray"></a><dl>
<dt><a name="index-boundaries_005farray"></a>グローバル変数: <strong>boundaries_array</strong></dt>
<dd><p>デフォルト値: <code>false</code>
</p>
<p><code>boundaries_array</code>は
グラフィックオプション<code>geomap</code>が境界座標を探すところです。
</p>
<p>Each component of 
<code>boundaries_array</code>のそれぞれの成分は
浮動小数点量の配列であり、
多角形のセグメントかマップ境界の座標です。
</p>
<p><code>geomap</code>も参照してください。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-Package-draw">Package draw</a>
&middot;</div>
</dd></dl>


<a name="Item_003a-draw_002fdeffn_002fnumbered_005fboundaries"></a><dl>
<dt><a name="index-numbered_005fboundaries"></a>関数: <strong>numbered_boundaries</strong> <em>(<var>nlist</var>)</em></dt>
<dd><p>その数(<code>boundaries_array</code>座標)でラベルされた
多角形セグメント(境界)のリストを描画します。
これは新しい地理的なものを作る時に非常に役立ちます。
</p>
<p>例:
</p>
<p><code>boundaries_array</code>内の成分数で境界をラベルされたヨーロッパの地図
</p><div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) european_borders: 
           region_boundaries(-31.81,74.92,49.84,32.06)$
(%i3) numbered_boundaries(european_borders)$
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-Package-draw">Package draw</a>
&middot;</div>
</dd></dl>


<a name="Item_003a-draw_002fdeffn_002fmake_005fpoly_005fcontinent"></a><dl>
<dt><a name="index-make_005fpoly_005fcontinent"></a>関数: <strong>make_poly_continent</strong> <em>(<var>continent_name</var>)</em></dt>
<dt><a name="index-make_005fpoly_005fcontinent-1"></a>関数: <strong>make_poly_continent</strong> <em>(<var>country_list</var>)</em></dt>
<dd><p>色付けられた大陸や国のリストを描画するのに必要なポリゴンを作ります。
</p>
<p>例:
</p>
<div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) /* A continent */
      make_poly_continent(Africa)$
(%i3) apply(draw2d, %)$
(%i4) /* A list of countries */
      make_poly_continent([Germany,Denmark,Poland])$
(%i5) apply(draw2d, %)$
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-Package-draw">Package draw</a>
&middot;</div>
</dd></dl>



<a name="Item_003a-draw_002fdeffn_002fmake_005fpoly_005fcountry"></a><dl>
<dt><a name="index-make_005fpoly_005fcountry"></a>関数: <strong>make_poly_country</strong> <em>(<var>country_name</var>)</em></dt>
<dd><p>色付けられた国を描画するのに必要なポリゴンを作ります。
もし島が存在するなら、1つの国はただ1つ以上のポリゴンで定義され得ます。
</p>
<p>例:
</p>
<div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) make_poly_country(India)$
(%i3) apply(draw2d, %)$
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-Package-draw">Package draw</a>
&middot;</div>
</dd></dl>


<a name="Item_003a-draw_002fdeffn_002fmake_005fpolygon"></a><dl>
<dt><a name="index-make_005fpolygon"></a>関数: <strong>make_polygon</strong> <em>(<var>nlist</var>)</em></dt>
<dd><p>境界添字から<code>polygon</code>オブジェクトを返します。
引数<var>nlist</var>は<code>boundaries_array</code>の成分のリストです。
</p>
<p>例:
</p>
<p>ブータンは境界番号171, 173, 1143で定義されます。
だから、<code>make_polygon([171,173,1143])</code>は
appends arrays of coordinates 
座標<code>boundaries_array[171]</code>, <code>boundaries_array[173]</code>,
 <code>boundaries_array[1143]</code>の配列を付加し、
<code>draw</code>でプロットされるのに適した<code>polygon</code>オブジェクトを返します．
エラーメッセージを避けるには、
任意の連続する配列が端で共通の2つの座標を持つという意味で配列は互換性がなければいけません。
この例では、
<code>boundaries_array[171]</code>の最初の2つの成分は
<code>boundaries_array[173]</code>の最後の2つの座標と等しく、
<code>boundaries_array[173]</code>の最初の2つは
<code>boundaries_array[1143]</code>の最初の2つに等しいです;
結論として、境界番号171, 173, 1143は (この順で)互換性があり、色付けられたポリゴンは描画できます。
</p><div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) Bhutan;
(%o2)                        [[171, 173, 1143]]
(%i3) boundaries_array[171];
(%o3) {Array:  
       #(88.750549 27.14727 88.806351 27.25305 88.901367 27.282221
         88.917877 27.321039)}
(%i4) boundaries_array[173];
(%o4) {Array:
       #(91.659554 27.76511 91.6008 27.66666 91.598022 27.62499
         91.631348 27.536381 91.765533 27.45694 91.775253 27.4161 
         92.007751 27.471939 92.11441 27.28583 92.015259 27.168051
         92.015533 27.08083 92.083313 27.02277 92.112183 26.920271
         92.069977 26.86194 91.997192 26.85194 91.915253 26.893881
         91.916924 26.85416 91.8358 26.863331 91.712479 26.799999 
         91.542191 26.80444 91.492188 26.87472 91.418854 26.873329
         91.371353 26.800831 91.307457 26.778049 90.682457 26.77417
         90.392197 26.903601 90.344131 26.894159 90.143044 26.75333
         89.98996 26.73583 89.841919 26.70138 89.618301 26.72694 
         89.636093 26.771111 89.360786 26.859989 89.22081 26.81472
         89.110237 26.829161 88.921631 26.98777 88.873016 26.95499
         88.867737 27.080549 88.843307 27.108601 88.750549 
         27.14727)}
(%i5) boundaries_array[1143];
(%o5) {Array:  
       #(91.659554 27.76511 91.666924 27.88888 91.65831 27.94805 
         91.338028 28.05249 91.314972 28.096661 91.108856 27.971109
         91.015808 27.97777 90.896927 28.05055 90.382462 28.07972
         90.396088 28.23555 90.366074 28.257771 89.996353 28.32333
         89.83165 28.24888 89.58609 28.139999 89.35997 27.87166 
         89.225517 27.795 89.125793 27.56749 88.971077 27.47361
         88.917877 27.321039)}
(%i6) Bhutan_polygon: make_polygon([171,173,1143])$
(%i7) draw2d(Bhutan_polygon)$
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-Package-draw">Package draw</a>
&middot;</div>
</dd></dl>

<a name="Item_003a-draw_002fdeffn_002fregion_005fboundaries"></a><dl>
<dt><a name="index-region_005fboundaries"></a>関数: <strong>region_boundaries</strong> <em>(<var>x1</var>,<var>y1</var>,<var>x2</var>,<var>y2</var>)</em></dt>
<dd><p>頂点(<var>x1</var>,<var>y1</var>) -左上- と(<var>x2</var>,<var>y2</var>) -右下-の長方形に完全に含まれる
グローバル変数<code>boundaries_array</code>の多角形セグメント検出します。
</p>

<p>例:
</p>
<p>南イタリアをプロットするためのセグメントの数を返します。
</p><div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) region_boundaries(10.4,41.5,20.7,35.4);
(%o2)                [1846, 1863, 1864, 1881, 1888, 1894]
(%i3) draw2d(geomap(%))$
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-Package-draw">Package draw</a>
&middot;</div>
</dd></dl>


<a name="Item_003a-draw_002fdeffn_002fregion_005fboundaries_005fplus"></a><dl>
<dt><a name="index-region_005fboundaries_005fplus"></a>関数: <strong>region_boundaries_plus</strong> <em>(<var>x1</var>,<var>y1</var>,<var>x2</var>,<var>y2</var>)</em></dt>
<dd><p>頂点(<var>x1</var>,<var>y1</var>) -左上- と(<var>x2</var>,<var>y2</var>) -右下-で定義された長方形に少なくとも1つ頂点を含まれる
グローバル変数<code>boundaries_array</code>の多角形セグメント検出します。
多角形セグメント検出します。
</p>
<p>例:
</p>
<div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) region_boundaries_plus(10.4,41.5,20.7,35.4);
(%o2) [1060, 1062, 1076, 1835, 1839, 1844, 1846, 1858,
       1861, 1863, 1864, 1871, 1881, 1888, 1894, 1897]
(%i3) draw2d(geomap(%))$
</pre></div>

<div class=categorybox>
<a href="maxima_311.html#Category_003a-Package-draw">Package draw</a>
&middot;</div>
</dd></dl>

<a name="Graphic-objects"></a>
<h4 class="subsection">48.4.2 Graphic objects</h4>


<a name="Item_003a-draw_002fdeffn_002fgeomap"></a><dl>
<dt><a name="index-geomap"></a>グラフィックオブジェクト: <strong>geomap</strong> <em>(<var>numlist</var>)</em></dt>
<dt><a name="index-geomap-1"></a>グラフィックオブジェクト: <strong>geomap</strong> <em>(<var>numlist</var>,<var>3Dprojection</var>)</em></dt>
<dd><p>2Dと3Dに関して地図を描画します。
</p>
<p><b>2D</b>
</p>
<p>この関数はグローバル変数<code>boundaries_array</code>と一緒に機能します。
</p>
<p>引数<var>numlist</var>は
数や数のリストを含むリストです。
これらすべての数は、
グローバル配列<code>boundaries_array</code>の成分を表す
0以上の整数でなければいけません。
</p>
<p>Each component of 
<code>boundaries_array</code>のそれぞれの成分は
浮動小数点量の配列であり、多角形セグメントやマップ境界の座標です。
</p>
<p><code>geomap (<var>numlist</var>)</code>は
引数を平坦化し、<code>boundaries_array</code>の中に関連した境界を描画します。
</p>
<p>このオブジェクトは以下の<i>グラフィックオプション</i>の影響を受けます:
<code>line_width</code>, <code>line_type</code>, <code>color</code>.
</p>
<p>例:
</p>
<p>手で定義された簡単な地図:
</p><div class="example">
<pre class="example">(%i1) load(&quot;draw&quot;)$
(%i2) /* Vertices of boundary #0: {(1,1),(2,5),(4,3)} */
   ( bnd0: make_array(flonum,6),
     bnd0[0]:1.0, bnd0[1]:1.0, bnd0[2]:2.0,
     bnd0[3]:5.0, bnd0[4]:4.0, bnd0[5]:3.0 )$
(%i3) /* Vertices of boundary #1: {(4,3),(5,4),(6,4),(5,1)} */
   ( bnd1: make_array(flonum,8),
     bnd1[0]:4.0, bnd1[1]:3.0, bnd1[2]:5.0, bnd1[3]:4.0,
     bnd1[4]:6.0, bnd1[5]:4.0, bnd1[6]:5.0, bnd1[7]:1.0)$
(%i4) /* Vertices of boundary #2: {(5,1), (3,0), (1,1)} */
   ( bnd2: make_array(flonum,6),
     bnd2[0]:5.0, bnd2[1]:1.0, bnd2[2]:3.0,
     bnd2[3]:0.0, bnd2[4]:1.0, bnd2[5]:1.0 )$
(%i5) /* Vertices of boundary #3: {(1,1), (4,3)} */
   ( bnd3: make_array(flonum,4),
     bnd3[0]:1.0, bnd3[1]:1.0, bnd3[2]:4.0, bnd3[3]:3.0)$
(%i6) /* Vertices of boundary #4: {(4,3), (5,1)} */
   ( bnd4: make_array(flonum,4),
     bnd4[0]:4.0, bnd4[1]:3.0, bnd4[2]:5.0, bnd4[3]:1.0)$
(%i7) /* Pack all together in boundaries_array */
   ( boundaries_array: make_array(any,5),
     boundaries_array[0]: bnd0, boundaries_array[1]: bnd1,
     boundaries_array[2]: bnd2, boundaries_array[3]: bnd3,
     boundaries_array[4]: bnd4 )$
(%i8) draw2d(geomap([0,1,2,3,4]))$
</pre></div>

<p>補助バッケージ <code>worldmap</code>は
グローバル変数 <code>boundaries_array</code>を
(経度、緯度)座標で
実世界境界に設定します。
これらのデータはパブリックドメインであり、
<a href="http://www-cger.nies.go.jp/grid-e/gridtxt/grid19.html">http://www-cger.nies.go.jp/grid-e/gridtxt/grid19.html</a>
に由来するものです。
</p>
<p>パッケージ<code>worldmap</code>は、国、大陸、海岸線の境界も
<code>boundaries_array</code>の必要な成分を持つリストとして、
定義します。
(更に知るにはファイル<code>share/draw/worldmap.mac</code>を参照してください)
パッケージ<code>draw</code>は自動的に<code>worldmap</code>をロードしません。
</p>
<div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) c1: gr2d(geomap(Canada,United_States,
                      Mexico,Cuba))$
(%i3) c2: gr2d(geomap(Africa))$
(%i4) c3: gr2d(geomap(Oceania,China,Japan))$
(%i5) c4: gr2d(geomap(France,Portugal,Spain,
                      Morocco,Western_Sahara))$
(%i6) draw(columns  = 2,
           c1,c2,c3,c4)$
</pre></div>

<p>パッケージ<code>worldmap</code>は
国をポリゴンとしてプロットする時にも役に立ちます。
この場合、グラフィックオブジェクト<code>geomap</code>は
もはや必要でなく、代わりに<code>polygon</code>オブジェクトが使われます。
配列ではなくリストが現在使われているので、
地図レンダリングはより遅いでしょう。
以下のコードを理解するためには、
<code>make_poly_country</code>と<code>make_poly_continent</code>も
参照してください。
</p><div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) mymap: append(
   [color      = white],  /* borders are white */
   [fill_color = red],             make_poly_country(Bolivia),
   [fill_color = cyan],            make_poly_country(Paraguay),
   [fill_color = green],           make_poly_country(Colombia),
   [fill_color = blue],            make_poly_country(Chile),
   [fill_color = &quot;#23ab0f&quot;],       make_poly_country(Brazil),
   [fill_color = goldenrod],       make_poly_country(Argentina),
   [fill_color = &quot;midnight-blue&quot;], make_poly_country(Uruguay))$
(%i3) apply(draw2d, mymap)$
</pre></div>


<p><b>3D</b>
</p>
<p><code>geomap (<var>numlist</var>)</code>は地図境界を
中心が(0,0,0)で半径1の球上に射影します。
<code>geomap (<var>numlist</var>,<var>3Dprojection</var>)</code>を使うことで、
球や射影タイプを変えることが可能です。
</p>
<p>利用可能な3D射影:
</p>
<ul>
<li> <code>[spherical_projection,<var>x</var>,<var>y</var>,<var>z</var>,<var>r</var>]</code>:
地図境界を
中心(<var>x</var>,<var>y</var>,<var>z</var>)、半径<var>r</var>の球上に
射影します。

<div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) draw3d(geomap(Australia), /* default projection */
             geomap(Australia,
                    [spherical_projection,2,2,2,3]))$
</pre></div>

</li><li> <code>[cylindrical_projection,<var>x</var>,<var>y</var>,<var>z</var>,<var>r</var>,<var>rc</var>]</code>:
球地図境界を
中心(<var>x</var>,<var>y</var>,<var>z</var>)の半径<var>r</var>の地球の極を通る軸を持ち
半径<var>rc</var>の円柱に再射影します。

<div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) draw3d(geomap([America_coastlines,Eurasia_coastlines],
                    [cylindrical_projection,2,2,2,3,4]))$
</pre></div>

</li><li> <code>[conic_projection,<var>x</var>,<var>y</var>,<var>z</var>,<var>r</var>,<var>alpha</var>]</code>:
球地図境界を
中心(<var>x</var>,<var>y</var>,<var>z</var>)の半径<var>r</var>の地球の極を通る軸を持ち
角度<var>alpha</var>の円錐上に
再射影します。
北円錐と南円錐両方が球に接触します。

<div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) draw3d(geomap(World_coastlines,
                    [conic_projection,0,0,0,1,90]))$
</pre></div>
</li></ul>

<p>更に丹念な例を見るには、
<a href="http://www.telefonica.net/web2/biomates/maxima/gpdraw/geomap">http://www.telefonica.net/web2/biomates/maxima/gpdraw/geomap</a>
も参照してください。
</p>
<div class=categorybox>
<a href="maxima_311.html#Category_003a-Package-draw">Package draw</a>
&middot;</div>
</dd></dl>




<hr>
<div class="header">
<p>
Previous: <a href="maxima_198.html#Functions-and-Variables-for-pictures" accesskey="p" rel="previous">Functions and Variables for pictures</a>, Up: <a href="maxima_195.html#draw" accesskey="u" rel="up">draw</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="maxima_307.html#Function-and-Variable-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
